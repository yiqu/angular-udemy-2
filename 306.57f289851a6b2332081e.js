(self.webpackChunkangular_udemy_again=self.webpackChunkangular_udemy_again||[]).push([[306],{9306:(t,e,n)=>{"use strict";n.r(e),n.d(e,{AdminModule:()=>Ht});var i=n(1116),s=n(1041),o=n(1368),r=n(1671),a=n(6514),c=n(4933),l=n(9808),g=n(766),m=n(5366),u=n(3835),d=n(611),p=n(2935),x=n(8639),f=n(5965),h=n(3070),Z=n(9550),A=n(3841),b=n(9572),T=n(4369),y=n(7064),v=n(5467);function O(t,e){1&t&&(m.TgZ(0,"mat-error"),m._uU(1," Name is required. "),m.qZA())}function w(t,e){if(1&t&&(m.TgZ(0,"mat-option",14),m._uU(1),m.qZA()),2&t){const t=e.$implicit;m.Q6J("value",t),m.xp6(1),m.hij(" ",t," ")}}function C(t,e){if(1&t&&(m.TgZ(0,"mat-option",14),m._uU(1),m.qZA()),2&t){const t=e.$implicit;m.Q6J("value",t),m.xp6(1),m.hij(" ",t," ")}}function q(t,e){if(1&t&&(m.TgZ(0,"mat-form-field",3),m.TgZ(1,"mat-label"),m._uU(2,"Time Per Set (in seconds)"),m.qZA(),m.TgZ(3,"mat-select",6),m.YNc(4,C,2,2,"mat-option",7),m.qZA(),m.qZA()),2&t){const t=m.oxw();m.xp6(3),m.Q6J("formControlName","countPerSet"),m.xp6(1),m.Q6J("ngForOf",t.timeOptions)}}function P(t,e){if(1&t&&(m.TgZ(0,"mat-option",14),m._uU(1),m.qZA()),2&t){const t=e.$implicit;m.Q6J("value",t),m.xp6(1),m.hij(" ",t," ")}}function S(t,e){if(1&t&&(m.TgZ(0,"mat-form-field",3),m.TgZ(1,"mat-label"),m._uU(2,"Reps Per Set"),m.qZA(),m.TgZ(3,"mat-select",6),m.YNc(4,P,2,2,"mat-option",7),m.qZA(),m.qZA()),2&t){const t=m.oxw();m.xp6(3),m.Q6J("formControlName","countPerSet"),m.xp6(1),m.Q6J("ngForOf",t.timeOptions)}}let F=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this.data=e,this.fb=n,this.exerFg=new s.cw({}),this.setOptions=[3,5,7,10],this.timeOptions=[10,20,30,40,50,60],this.exerFg=this.fb.group({name:(0,x.j2)(this.data.name,!1,[s.kI.required]),sets:(0,x.j2)(this.data.sets,!1),countPerSet:(0,x.j2)(this.data.countPerSet,!1),setUnitTypeIsTime:(0,x.j2)(this.data.setUnitTypeIsTime,!1)})}ngOnInit(){}onNoClick(){this.dialogRef.close(!1)}onYesClick(){this.dialogRef.close(Object.assign(Object.assign({},this.exerFg.value),{id:this.data.id}))}}return t.\u0275fac=function(e){return new(e||t)(m.Y36(p.so),m.Y36(p.WI),m.Y36(s.qu))},t.\u0275cmp=m.Xpm({type:t,selectors:[["app-shared-dialog-exer"]],decls:27,vars:13,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","10px",3,"formGroup"],[1,""],["type","text","matInput","","placeholder","Exercises name",3,"formControlName"],[4,"ngIf"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],["color","primary",1,"",3,"formControlName"],[3,"ngSwitch"],["class","",4,"ngSwitchCase"],["mat-dialog-actions",""],["mat-flat-button","","cdkFocusInitial","","color","accent",3,"click"],["mat-flat-button","","color","primary",3,"disabled","click"],[3,"value"]],template:function(t,e){1&t&&(m.TgZ(0,"h1",0),m._uU(1),m.ALo(2,"capitalizeFirstLetter"),m.qZA(),m._UZ(3,"hr"),m.TgZ(4,"div",1),m.TgZ(5,"div"),m.TgZ(6,"div",2),m.TgZ(7,"mat-form-field",3),m.TgZ(8,"mat-label"),m._uU(9,"Exercises Name"),m.qZA(),m._UZ(10,"input",4),m.YNc(11,O,2,0,"mat-error",5),m.qZA(),m.TgZ(12,"mat-form-field",3),m.TgZ(13,"mat-label"),m._uU(14,"Total Sets"),m.qZA(),m.TgZ(15,"mat-select",6),m.YNc(16,w,2,2,"mat-option",7),m.qZA(),m.qZA(),m.TgZ(17,"mat-slide-toggle",8),m._uU(18,"Use time"),m.qZA(),m.ynx(19,9),m.YNc(20,q,5,2,"mat-form-field",10),m.YNc(21,S,5,2,"mat-form-field",10),m.BQk(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(22,"div",11),m.TgZ(23,"button",12),m.NdJ("click",function(){return e.onNoClick()}),m._uU(24,"Cancel"),m.qZA(),m.TgZ(25,"button",13),m.NdJ("click",function(){return e.onYesClick()}),m._uU(26,"Save"),m.qZA(),m.qZA()),2&t&&(m.xp6(1),m.hij("Edit ",m.lcZ(2,11,e.data.name),""),m.xp6(5),m.Q6J("formGroup",e.exerFg),m.xp6(4),m.Q6J("formControlName","name"),m.xp6(1),m.Q6J("ngIf",e.exerFg.controls.name.errors),m.xp6(4),m.Q6J("formControlName","sets"),m.xp6(1),m.Q6J("ngForOf",e.setOptions),m.xp6(1),m.Q6J("formControlName","setUnitTypeIsTime"),m.xp6(2),m.Q6J("ngSwitch",e.exerFg.controls.setUnitTypeIsTime.value),m.xp6(1),m.Q6J("ngSwitchCase",!0),m.xp6(1),m.Q6J("ngSwitchCase",!1),m.xp6(4),m.Q6J("disabled",e.exerFg.invalid))},directives:[p.uh,p.xY,f.xw,f.Wh,f.SQ,s.JL,s.sg,h.KE,h.hX,Z.Nt,s.Fj,s.JJ,s.u,i.O5,A.gD,i.sg,b.Rr,i.RF,i.n9,p.H8,T.lW,h.TO,y.ey],pipes:[v.G],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]   .exer[_ngcontent-%COMP%]{border:1px solid #eee;border-radius:35px;padding:20px}"]}),t})();const N=(0,r.PH)("[Admin/UI] Admin page navigation",(0,r.Ky)()),k=(0,r.PH)("[Admin/UI] Add a new exer select click",(0,r.Ky)()),_=(0,r.PH)("[Admin/UI] Save exer button click",(0,r.Ky)()),M=(0,r.PH)("[Admin/UI] Set form valid status",(0,r.Ky)()),E=(0,r.PH)("[Admin/UI] Reset all options in new exer"),U=(0,r.PH)("[Admin/API] Save all exer start",(0,r.Ky)()),J=(0,r.PH)("[Admin/API] Save all exer success"),Q=(0,r.PH)("[Admin/API] Save all exer failed",(0,r.Ky)()),j=(0,r.PH)("[Admin/API] Get all exer start"),I=(0,r.PH)("[Admin/API] Get all exer success",(0,r.Ky)()),$=(0,r.PH)("[Admin/API] Get all exer failed",(0,r.Ky)()),L=(0,r.PH)("[Admin/API] Update exer start",(0,r.Ky)()),Y=(0,r.PH)("[Admin/API] Update exer success",(0,r.Ky)()),B=(0,r.PH)("[Admin/API] Update exer failed",(0,r.Ky)()),D=(0,r.PH)("[Admin/API] Delete exers start",(0,r.Ky)()),G=(0,r.PH)("[Admin/API] Delete exers success",(0,r.Ky)()),H=(0,r.PH)("[Admin/API] Delete exers failed",(0,r.Ky)()),K=(0,r.ZF)("admin"),z=(0,r.P1)(K,t=>t.currentActionPage),W=(0,r.P1)(z,t=>{const e=[];return"new"===t?(e.push({btnName:"Add another",btnMenu:!0,btnMenuItems:["Time Based","Rep Based"]}),e.push({btnName:"Save"})):"edit"===t&&e.push({btnName:"Delete all"}),e}),R=(0,r.P1)(K,t=>t.newExerType),V=(0,r.P1)(K,t=>t.saveNewExerBtnClickTimeStamp),X=(0,r.P1)(K,z,(t,e)=>"new"!==e||null==t.formValidState||t.formValidState),tt=(0,r.P1)(K,t=>t.loading),et=(0,r.P1)(K,t=>t.allExers);let nt=(()=>{class t{constructor(t,e){this.store=t,this.dialog=e,this.currentSelectedPage$=this.store.select(z),this.adminPanelButtons$=this.store.select(W),this.newlyAddedExerType$=this.store.select(R),this.onNewExerSaveClick$=this.store.select(V),this.exerFormStatus$=this.store.select(X).pipe((0,u.h)(t=>null!=t)),this.isLoading$=this.store.select(tt),this.allExers$=this.store.select(et)}setCurrentPageState(t){this.store.dispatch(N({page:t}))}addNewExer(t){this.store.dispatch(k({exerUnitType:t}))}onNewExerSaveClick(){const t=(new Date).getTime();this.store.dispatch(_({timeStamp:t}))}onSetFormValidStatus(t){this.store.dispatch(M({status:t}))}resetNewExer(){this.store.dispatch(E())}onSaveExers(t){this.store.dispatch(U({exers:t}))}getAllExers(){this.store.dispatch(j())}updateExercise(t){this.store.dispatch(L({exer:t}))}deleteExercise(t){this.store.dispatch(D({exers:t}))}editExercise(t){return this.dialog.open(F,{minWidth:"30rem",data:t}).afterClosed().pipe((0,d.q)(1))}}return t.\u0275fac=function(e){return new(e||t)(m.LFG(r.yh),m.LFG(p.uw))},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var it=n(7070),st=n(1293),ot=n(7307);n(6996);let rt=(()=>{class t{transform(t){let e="done";switch(null==t?void 0:t.trim().toLowerCase()){case"add another":e="add";break;case"save":e="save";break;case"delete all":e="delete"}return e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=m.Yjl({name:"iconDisplay",type:t,pure:!0}),t})();function at(t,e){1&t&&(m.ynx(0),m.TgZ(1,"span",7),m._uU(2,"Please fix the errors before saving*"),m.qZA(),m.BQk())}function ct(t,e){if(1&t){const t=m.EpF();m.TgZ(0,"button",11),m.NdJ("click",function(){m.CHM(t);const e=m.oxw().$implicit;return m.oxw(2).onPanelBtnClick(e)}),m.TgZ(1,"span",12),m._uU(2),m.qZA(),m.TgZ(3,"mat-icon",13),m._uU(4),m.ALo(5,"iconDisplay"),m.qZA(),m.qZA()}if(2&t){const t=m.oxw().$implicit;m.xp6(2),m.Oqu(t.btnName),m.xp6(2),m.Oqu(m.lcZ(5,2,t.btnName))}}const lt=function(t){return{menuItems:t}};function gt(t,e){if(1&t){const t=m.EpF();m.TgZ(0,"button",14),m.NdJ("click",function(){m.CHM(t);const e=m.oxw().$implicit;return m.oxw(2).onPanelBtnClick(e)}),m.TgZ(1,"div",15),m.TgZ(2,"div"),m._uU(3),m.qZA(),m.TgZ(4,"div",16),m.TgZ(5,"mat-icon"),m._uU(6,"keyboard_arrow_down"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(7,"mat-icon",13),m._uU(8),m.ALo(9,"iconDisplay"),m.qZA(),m.qZA()}if(2&t){const t=m.oxw().$implicit;m.oxw(2);const e=m.MAs(13);m.Q6J("matMenuTriggerData",m.VKq(6,lt,t.btnMenuItems))("matMenuTriggerFor",e),m.xp6(3),m.Oqu(t.btnName),m.xp6(5),m.Oqu(m.lcZ(9,4,t.btnName))}}function mt(t,e){if(1&t&&(m.ynx(0),m.YNc(1,ct,6,4,"button",9),m.YNc(2,gt,10,8,"button",10),m.BQk()),2&t){const t=e.$implicit;m.xp6(1),m.Q6J("ngIf",!t.btnMenu),m.xp6(1),m.Q6J("ngIf",t.btnMenu)}}function ut(t,e){if(1&t&&(m.ynx(0),m.YNc(1,mt,3,2,"ng-container",8),m.BQk()),2&t){const t=e.ngIf;m.xp6(1),m.Q6J("ngForOf",t)}}function dt(t,e){if(1&t){const t=m.EpF();m.TgZ(0,"button",18),m.NdJ("click",function(){const e=m.CHM(t).$implicit;return m.oxw(2).onPanelMenuClick(e)}),m._uU(1),m.qZA()}if(2&t){const t=e.$implicit;m.xp6(1),m.Oqu(t)}}function pt(t,e){1&t&&m.YNc(0,dt,2,1,"button",17),2&t&&m.Q6J("ngForOf",e.menuItems)}const xt=function(){return["/","my-trainings"]};let ft=(()=>{class t{constructor(t){this.as=t}ngOnInit(){}onPanelBtnClick(t){"Save"===t.btnName&&this.as.onNewExerSaveClick()}onPanelMenuClick(t){this.as.addNewExer(t)}}return t.\u0275fac=function(e){return new(e||t)(m.Y36(nt))},t.\u0275cmp=m.Xpm({type:t,selectors:[["app-admin"]],decls:15,vars:8,consts:[["fxLayout","column","fxLayoutGap","10px",1,"container","pb-3","pb-5"],[1,"sticky-topp"],["fxLayout","row","fxLayoutAlign","space-between center",1,"title","mat-elevation-z0"],[3,"routerLink"],[4,"ngIf"],["menu","matMenu"],["matMenuContent",""],[1,"status-msg","ml-3"],[4,"ngFor","ngForOf"],["mat-button","","ngClass.lt-md","mat-icon-button","class","mr-3","ngClass.gt-sm","mat-flat-button","color","primary","type","button",3,"click",4,"ngIf"],["mat-button","","ngClass.lt-md","mat-icon-button","class","mr-3","ngClass.gt-sm","mat-flat-button","color","primary","type","button",3,"matMenuTriggerData","matMenuTriggerFor","click",4,"ngIf"],["mat-button","","ngClass.lt-md","mat-icon-button","ngClass.gt-sm","mat-flat-button","color","primary","type","button",1,"mr-3",3,"click"],["fxHide","","fxShow.gt-sm",""],["fxHide","","fxShow.lt-sm",""],["mat-button","","ngClass.lt-md","mat-icon-button","ngClass.gt-sm","mat-flat-button","color","primary","type","button",1,"mr-3",3,"matMenuTriggerData","matMenuTriggerFor","click"],["fxHide","","fxShow.gt-sm","","fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","5px"],["fxLayout","row","fxLayoutAlign","center center"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"]],template:function(t,e){1&t&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.TgZ(2,"div",2),m.TgZ(3,"div"),m.TgZ(4,"a",3),m._uU(5," Admin Panel "),m.qZA(),m.YNc(6,at,3,0,"ng-container",4),m.ALo(7,"async"),m.qZA(),m.TgZ(8,"div"),m.YNc(9,ut,2,1,"ng-container",4),m.ALo(10,"async"),m.qZA(),m.qZA(),m.qZA(),m._UZ(11,"router-outlet"),m.qZA(),m.TgZ(12,"mat-menu",null,5),m.YNc(14,pt,1,1,"ng-template",6),m.qZA()),2&t&&(m.xp6(4),m.Q6J("routerLink",m.DdM(7,xt)),m.xp6(2),m.Q6J("ngIf",!m.lcZ(7,3,e.as.exerFormStatus$)),m.xp6(3),m.Q6J("ngIf",m.lcZ(10,5,e.as.adminPanelButtons$)))},directives:[f.xw,f.SQ,f.Wh,g.yS,i.O5,g.lC,it.VK,it.KA,i.sg,T.lW,st.oO,st.b8,ot.Hw,it.p6,it.OP],pipes:[i.Ov,rt],styles:[".title[_ngcontent-%COMP%]{font-size:19px;font-weight:700}.sticky-topp[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding-left:0;height:4rem;border-bottom:1px solid #ccc}.sticky-topp[_ngcontent-%COMP%]   .status-msg[_ngcontent-%COMP%]{font-size:14px;color:#c45757}.loading-bar[_ngcontent-%COMP%]{margin:0;height:7px}"]}),t})();var ht=n(7982),Zt=n(7672),At=n(6340);function bt(t,e){1&t&&(m.ynx(0),m.TgZ(1,"div",3),m._UZ(2,"mat-spinner",4),m.qZA(),m.BQk())}function Tt(t,e){if(1&t){const t=m.EpF();m.TgZ(0,"div",5),m.TgZ(1,"div",6),m.TgZ(2,"app-shared-table",7),m.NdJ("actionBtnClick",function(e){return m.CHM(t),m.oxw().onActionBtnClick(e)}),m.ALo(3,"async"),m.qZA(),m.qZA(),m.qZA()}if(2&t){const t=m.oxw();m.xp6(2),m.Q6J("columns",t.columns)("columnsData",m.lcZ(3,5,t.as.allExers$))("hasOptions",!0)("optionButtons",t.optionBtns)("initSort",t.initSort)}}let yt=(()=>{class t{constructor(t,e){this.as=t,this.cs=e,this.columns=["name","sets","countPerSet","setUnitTypeIsTime","created","lastUpdated"],this.optionBtns=["edit","delete"],this.initSort={id:"lastUpdated",start:"desc",disableClear:!1},this.as.setCurrentPageState("edit")}ngOnInit(){this.as.getAllExers()}onActionBtnClick(t){"edit"===t.btnAction?this.as.editExercise(t.data).subscribe(e=>{e&&t.data&&this.as.updateExercise(e)}):"delete"===t.btnAction&&this.cs.openConfirmDialog("delete").subscribe(e=>{e&&e&&t.data&&this.as.deleteExercise([t.data])})}}return t.\u0275fac=function(e){return new(e||t)(m.Y36(nt),m.Y36(ht.G))},t.\u0275cmp=m.Xpm({type:t,selectors:[["app-admin-edit"]],decls:5,vars:4,consts:[[1,""],[4,"ngIf","ngIfElse"],["tableData",""],["fxLayout","row","fxLayoutAlign","center center",1,"mt-3"],["mode","indeterminate"],[1,"row","mb-3"],[1,"col"],[3,"columns","columnsData","hasOptions","optionButtons","initSort","actionBtnClick"]],template:function(t,e){if(1&t&&(m.TgZ(0,"div",0),m.YNc(1,bt,3,0,"ng-container",1),m.ALo(2,"async"),m.YNc(3,Tt,4,7,"ng-template",null,2,m.W1O),m.qZA()),2&t){const t=m.MAs(4);m.xp6(1),m.Q6J("ngIf",m.lcZ(2,2,e.as.isLoading$))("ngIfElse",t)}},directives:[i.O5,f.xw,f.Wh,Zt.$g,At.a],pipes:[i.Ov],styles:[".table-parent[_ngcontent-%COMP%]{width:100%}",".title[_ngcontent-%COMP%]{font-size:19px;font-weight:700}.sticky-topp[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding-left:0;height:4rem;border-bottom:1px solid #ccc}.sticky-topp[_ngcontent-%COMP%]   .status-msg[_ngcontent-%COMP%]{font-size:14px;color:#c45757}.loading-bar[_ngcontent-%COMP%]{margin:0;height:7px}"]}),t})(),vt=(()=>{class t{constructor(t,e,n,i){this.fb=t,this.router=e,this.route=n,this.as=i,this.as.setCurrentPageState(null)}ngOnInit(){}onActionClick(t){"add"===t?this.router.navigate(["../","new-exer"],{relativeTo:this.route}):"edit"===t&&this.router.navigate(["../","edit-exer"],{relativeTo:this.route})}}return t.\u0275fac=function(e){return new(e||t)(m.Y36(s.qu),m.Y36(g.F0),m.Y36(g.gz),m.Y36(nt))},t.\u0275cmp=m.Xpm({type:t,selectors:[["app-admin-landing"]],decls:25,vars:0,consts:[[1,"row","my-3","justify-content-center"],[1,"col-12","text-center"],[1,"text-muted"],[1,"exer-options"],[1,"row","justify-content-center"],[1,"col-12"],["fxLayout","row","fxLayoutAlign","center center"],["ngClass.lt-md","mb-3",1,"col-12","col-lg-2"],["fxLayout","column","fxLayoutAlign","center center"],["mat-fab","","color","primary",1,"mat-elevation-z0",3,"click"],[1,"mt-2"],[1,"col-12","col-lg-2"],["mat-fab","","color","accent",1,"mat-elevation-z0",3,"click"]],template:function(t,e){1&t&&(m.TgZ(0,"div",0),m.TgZ(1,"h3",1),m._uU(2,"Admin panel"),m.qZA(),m.TgZ(3,"p",2),m._uU(4," Add and modify exercises. "),m.qZA(),m.qZA(),m.TgZ(5,"div",3),m.TgZ(6,"div",4),m.TgZ(7,"div",5),m.TgZ(8,"p",6),m._uU(9," You can add, edit or delete exercises. "),m.qZA(),m.qZA(),m.qZA(),m.TgZ(10,"div",4),m.TgZ(11,"div",7),m.TgZ(12,"div",8),m.TgZ(13,"button",9),m.NdJ("click",function(){return e.onActionClick("add")}),m.TgZ(14,"mat-icon"),m._uU(15,"add"),m.qZA(),m.qZA(),m.TgZ(16,"div",10),m._uU(17," New Exercise "),m.qZA(),m.qZA(),m.qZA(),m.TgZ(18,"div",11),m.TgZ(19,"div",8),m.TgZ(20,"button",12),m.NdJ("click",function(){return e.onActionClick("edit")}),m.TgZ(21,"mat-icon"),m._uU(22,"edit"),m.qZA(),m.qZA(),m.TgZ(23,"div",10),m._uU(24," Edit Exercises "),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA())},directives:[f.xw,f.Wh,st.oO,T.lW,ot.Hw],styles:[".exer-options[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:11px;padding:30px}"]}),t})();var Ot=n(5959),wt=n(5416);function Ct(t,e){1&t&&(m.TgZ(0,"mat-error"),m._uU(1," Name is required. "),m.qZA())}function qt(t,e){if(1&t&&(m.TgZ(0,"mat-option",16),m._uU(1),m.qZA()),2&t){const t=e.$implicit;m.Q6J("value",t),m.xp6(1),m.hij(" ",t," ")}}function Pt(t,e){if(1&t&&(m.TgZ(0,"mat-option",16),m._uU(1),m.qZA()),2&t){const t=e.$implicit;m.Q6J("value",t),m.xp6(1),m.hij(" ",t," ")}}function St(t,e){if(1&t&&(m.TgZ(0,"mat-form-field",9),m.TgZ(1,"mat-label"),m._uU(2,"Time Per Set (in seconds)"),m.qZA(),m.TgZ(3,"mat-select",11),m.YNc(4,Pt,2,2,"mat-option",12),m.qZA(),m.qZA()),2&t){const t=m.oxw(3);m.xp6(3),m.Q6J("formControlName","countPerSet"),m.xp6(1),m.Q6J("ngForOf",t.timeOptions)}}function Ft(t,e){if(1&t&&(m.TgZ(0,"mat-option",16),m._uU(1),m.qZA()),2&t){const t=e.$implicit;m.Q6J("value",t),m.xp6(1),m.hij(" ",t," ")}}function Nt(t,e){if(1&t&&(m.TgZ(0,"mat-form-field",9),m.TgZ(1,"mat-label"),m._uU(2,"Reps Per Set"),m.qZA(),m.TgZ(3,"mat-select",11),m.YNc(4,Ft,2,2,"mat-option",12),m.qZA(),m.qZA()),2&t){const t=m.oxw(3);m.xp6(3),m.Q6J("formControlName","countPerSet"),m.xp6(1),m.Q6J("ngForOf",t.timeOptions)}}function kt(t,e){if(1&t&&(m.TgZ(0,"div",6),m.TgZ(1,"div",7),m._uU(2),m.qZA(),m.TgZ(3,"div",8),m.TgZ(4,"mat-form-field",9),m.TgZ(5,"mat-label"),m._uU(6,"Exercises Name"),m.qZA(),m._UZ(7,"input",10),m.YNc(8,Ct,2,0,"mat-error",2),m.qZA(),m.TgZ(9,"mat-form-field",9),m.TgZ(10,"mat-label"),m._uU(11,"Total Sets"),m.qZA(),m.TgZ(12,"mat-select",11),m.YNc(13,qt,2,2,"mat-option",12),m.qZA(),m.qZA(),m.TgZ(14,"mat-slide-toggle",13),m._uU(15,"Use time"),m.qZA(),m.ynx(16,14),m.YNc(17,St,5,2,"mat-form-field",15),m.YNc(18,Nt,5,2,"mat-form-field",15),m.BQk(),m.qZA(),m.qZA()),2&t){const t=e.index,n=m.oxw(2);m.xp6(2),m.hij(" Exercise #",t+1," "),m.xp6(1),m.Q6J("formGroupName",t),m.xp6(4),m.Q6J("formControlName","name"),m.xp6(1),m.Q6J("ngIf",n.exercisesFaAny.controls[t].controls.name.errors&&n.exercisesFaAny.controls[t].controls.name.errors.required),m.xp6(4),m.Q6J("formControlName","sets"),m.xp6(1),m.Q6J("ngForOf",n.setOptions),m.xp6(1),m.Q6J("formControlName","setUnitTypeIsTime"),m.xp6(2),m.Q6J("ngSwitch",n.exercisesFaAny.controls[t].controls.setUnitTypeIsTime.value),m.xp6(1),m.Q6J("ngSwitchCase",!0),m.xp6(1),m.Q6J("ngSwitchCase",!1)}}const _t=function(){return{width:"100%"}};function Mt(t,e){if(1&t){const t=m.EpF();m.ynx(0),m.TgZ(1,"form",3),m.NdJ("ngSubmit",function(){return m.CHM(t),m.oxw().onFormSubmit()}),m.TgZ(2,"div",4),m.YNc(3,kt,19,10,"div",5),m.qZA(),m.qZA(),m.BQk()}if(2&t){const t=m.oxw();m.xp6(1),m.Q6J("formGroup",t.mainFg)("ngStyle.lt-md",m.DdM(3,_t)),m.xp6(2),m.Q6J("ngForOf",t.exercisesFa.controls)}}const Et=[{path:"",component:ft,children:[{path:"",redirectTo:"landing",pathMatch:"full"},{path:"landing",component:vt},{path:"new-exer",component:(()=>{class t{constructor(t,e){this.fb=t,this.as=e,this.setOptions=[3,5,7,10],this.timeOptions=[10,20,30,40,50,60],this.compDest$=new Ot.xQ,this.mainFg=this.createMainFg(),this.as.setCurrentPageState("new")}get exercisesFa(){return this.mainFg.get("exercises")}get exercisesFaAny(){return this.mainFg.get("exercises")}ngOnInit(){this.mainFg.valueChanges.pipe((0,wt.R)(this.compDest$)).subscribe(t=>{}),this.as.newlyAddedExerType$.pipe((0,wt.R)(this.compDest$)).subscribe(t=>{t&&t.name&&this.exercisesFa.push(this.createExerciseFg(t.name))}),this.as.onNewExerSaveClick$.pipe((0,u.h)(t=>!!t),(0,wt.R)(this.compDest$)).subscribe(t=>{this.onFormSubmit()})}createMainFg(){return this.fb.group({exercises:this.fb.array([this.createExerciseFg("Time Based")])})}createExerciseFg(t){const e="Time Based"===t;return this.fb.group({name:(0,x.j2)(null,!1,[s.kI.required]),sets:(0,x.j2)(3,!1),countPerSet:(0,x.j2)(30,!1),setUnitTypeIsTime:(0,x.j2)(e,!1)})}onAddAnother(){this.exercisesFa.push(this.createExerciseFg())}onFormSubmit(){this.checkFormValid(this.mainFg.valid),this.mainFg.valid&&this.as.onSaveExers(this.mainFg.value.exercises)}checkFormValid(t){this.as.onSetFormValidStatus(t)}ngOnDestroy(){this.as.resetNewExer(),this.compDest$.next(),this.compDest$.complete()}}return t.\u0275fac=function(e){return new(e||t)(m.Y36(s.qu),m.Y36(nt))},t.\u0275cmp=m.Xpm({type:t,selectors:[["app-admin-new"]],decls:4,vars:1,consts:[["fxLayout","column","fxLayoutAlign","center center"],["fxLayout","row","fxLayoutAlign","start center",1,"title","mb-3","full-w"],[4,"ngIf"],["fxLayoutGap","10px",3,"formGroup","ngStyle.lt-md","ngSubmit"],["formArrayName","exercises"],["class","exer mb-3",4,"ngFor","ngForOf"],[1,"exer","mb-3"],["ngClass.gt-xs","arr-count text-center"],["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","10px",3,"formGroupName"],[1,""],["type","text","matInput","","placeholder","Exercises name",3,"formControlName"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],["color","primary",1,"",3,"formControlName"],[3,"ngSwitch"],["class","",4,"ngSwitchCase"],[3,"value"]],template:function(t,e){1&t&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m._uU(2," Add New Exercises "),m.qZA(),m.YNc(3,Mt,4,4,"ng-container",2),m.qZA()),2&t&&(m.xp6(3),m.Q6J("ngIf",e.mainFg))},directives:[f.xw,f.Wh,i.O5,s._Y,s.JL,f.SQ,s.sg,st.Zl,s.CE,i.sg,st.oO,s.x0,h.KE,h.hX,Z.Nt,s.Fj,s.JJ,s.u,A.gD,b.Rr,i.RF,i.n9,h.TO,y.ey],styles:[".arr-count[_ngcontent-%COMP%]{width:35rem;background-color:#eee;border-radius:15px;padding:10px}mat-form-field[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]   .exer[_ngcontent-%COMP%]{border:1px solid #eee;border-radius:35px;padding:20px}",".title[_ngcontent-%COMP%]{font-size:19px;font-weight:700}.sticky-topp[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding-left:0;height:4rem;border-bottom:1px solid #ccc}.sticky-topp[_ngcontent-%COMP%]   .status-msg[_ngcontent-%COMP%]{font-size:14px;color:#c45757}.loading-bar[_ngcontent-%COMP%]{margin:0;height:7px}"]}),t})()},{path:"edit-exer",component:yt}]}];let Ut=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({imports:[[g.Bz.forChild(Et)],g.Bz]}),t})();var Jt=n(436),Qt=n(4689),jt=n(4981),It=n(9996),$t=n(6904),Lt=n(6811),Yt=n(9328),Bt=n(1447);const Dt=[(()=>{class t{constructor(t,e,n){this.actions$=t,this.as=e,this.sbs=n,this.saveExercises$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(U),(0,Jt.b)(t=>this.as.upsertExercises(t.exers).then(e=>(this.sbs.openSnackBar("Successfully saved "+t.exers.length+" exercises"),J()),t=>{this.sbs.openSnackBar("Error occured!",6e3);const e=$t.S(t);return console.log(t),Q({errMsg:e})})))),this.getAllExercises$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(j),(0,Qt.w)(()=>this.as.getExercises("All").then(t=>{const e=this.as.convertCollectionDocData(t);return I({exers:e})},t=>{this.sbs.openSnackBar("Error occured!",6e3);const e=$t.S(t);return $({errMsg:e})})))),this.updateSingleExer$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(L),(0,jt.z)(t=>{const e=t.exer;return this.as.updateExercise(e).then(t=>(this.sbs.openSnackBar("Successfully updated "+e.name+"!"),Y({exer:e})),t=>{this.sbs.openSnackBar("Error occured!",6e3);const e=$t.S(t);return console.log(t),B({errMsg:e})})}))),this.reloadExercise$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(Y,G),(0,It.U)(()=>j()))),this.navigateAfterCreatingNewExer$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(J),(0,It.U)(()=>{this.as.navigatePath(["/","my-trainings"])})),{dispatch:!1}),this.reloadAllCoreExercises$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(Y,G,J),(0,Qt.w)(()=>[Lt.QT({status:"All"})]))),this.deleteExercise$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(D),(0,jt.z)(t=>this.as.deleteExercises(t.exers).then(e=>(this.sbs.openSnackBar("Successfully deleted "+t.exers.length+" exercises !"),G({exers:t.exers})),t=>{this.sbs.openSnackBar("Error occured!",6e3);const e=$t.S(t);return console.log(t),H({errMsg:e})}))))}}return t.\u0275fac=function(e){return new(e||t)(m.LFG(o.eX),m.LFG(Yt.R),m.LFG(Bt.M))},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac}),t})()],Gt=(0,r.Lq)({currentActionPage:null,loading:!1,allExers:[]},(0,r.on)(N,(t,{page:e})=>Object.assign(Object.assign({},t),{currentActionPage:e})),(0,r.on)(k,(t,{exerUnitType:e})=>Object.assign(Object.assign({},t),{newExerType:{name:e}})),(0,r.on)(_,(t,{timeStamp:e})=>Object.assign(Object.assign({},t),{saveNewExerBtnClickTimeStamp:e})),(0,r.on)(M,(t,{status:e})=>Object.assign(Object.assign({},t),{formValidState:e})),(0,r.on)(E,t=>Object.assign(Object.assign({},t),{saveNewExerBtnClickTimeStamp:void 0,newExerType:void 0,formValidState:!0})),(0,r.on)(U,(t,{exers:e})=>Object.assign(Object.assign({},t),{exersBeingAdded:[...e],loading:!0})),(0,r.on)(J,t=>Object.assign(Object.assign({},t),{loading:!1,errMsg:void 0,error:!1})),(0,r.on)(Q,(t,{errMsg:e})=>Object.assign(Object.assign({},t),{loading:!1,errMsg:e,error:!0})),(0,r.on)(j,t=>Object.assign(Object.assign({},t),{loading:!0})),(0,r.on)(I,(t,{exers:e})=>Object.assign(Object.assign({},t),{loading:!1,errMsg:void 0,error:!1,allExers:e})),(0,r.on)($,(t,{errMsg:e})=>Object.assign(Object.assign({},t),{loading:!1,errMsg:e,error:!0})),(0,r.on)(L,(t,{exer:e})=>Object.assign(Object.assign({},t),{exerBeingUpdated:e})),(0,r.on)(Y,(t,{exer:e})=>Object.assign(Object.assign({},t),{errMsg:void 0,error:!1,exerBeingUpdated:e})),(0,r.on)(B,(t,{errMsg:e})=>Object.assign(Object.assign({},t),{errMsg:e,error:!0})),(0,r.on)(D,(t,{})=>Object.assign({},t)),(0,r.on)(G,(t,{})=>Object.assign(Object.assign({},t),{errMsg:void 0,error:!1})),(0,r.on)(H,(t,{errMsg:e})=>Object.assign(Object.assign({},t),{errMsg:e,error:!0})));let Ht=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({providers:[],imports:[[Ut,a.p,i.ez,s.UX,s.u5,r.Aw.forFeature("admin",Gt),o.sQ.forFeature(Dt),c.d,l.q]]}),t})()}}]);