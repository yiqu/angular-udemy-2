(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{Yj9t:function(t,e,r){"use strict";r.r(e),r.d(e,"AuthModule",function(){return V});var n=r("ofXK"),a=r("3Pt+"),s=r("UmVK"),o=r("tyNb"),i=r("fXoL");let l=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ib({type:t,selectors:[["app-auth"]],decls:2,vars:0,consts:[[1,"container-fluid","my-5"]],template:function(t,e){1&t&&(i.Ub(0,"div",0),i.Pb(1,"router-outlet"),i.Tb())},directives:[o.f],styles:[""]}),t})();function c(t,e,r=[],n=[]){return new a.e({value:t,disabled:e},r,n)}var u=r("XiUz"),b=r("znSr"),g=r("kmnG"),p=r("qFsG"),f=r("bTqV");let d=(()=>{class t{constructor(t,e,r){this.fb=t,this.router=e,this.route=r,this.loginFg=this.fb.group({name:c(null,!1),password:c(null,!1)})}ngOnInit(){}goToRegister(){this.router.navigate(["../","signup"],{relativeTo:this.route})}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(a.d),i.Ob(o.b),i.Ob(o.a))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-login"]],decls:22,vars:1,consts:[["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","20px"],["fxLayout","row","ngClass.xs","full-w"],["role","alert","fxFlex.gt-xs","500px","fxFlex.xs","100%",1,"alert","alert-danger"],["ngClass.xs","full-w",3,"formGroup"],["fxLayout","row"],["appearance","outline","fxFlex.gt-xs","500px"],["type","text","matInput","","placeholder","Login name","formControlName","name"],["type","password","matInput","","placeholder","Password","formControlName","password"],["ngClass.xs","full-w"],["ngClass.xs","full-w","fxFlex.gt-xs","500px","fxLayoutAlign","space-between"],["mat-flat-button","","color","accent",3,"click"],["mat-flat-button","","color","primary"]],template:function(t,e){1&t&&(i.Ub(0,"div",0),i.Ub(1,"div",1),i.Ub(2,"div",2),i.Bc(3," Error "),i.Tb(),i.Tb(),i.Ub(4,"form",3),i.Ub(5,"section",4),i.Ub(6,"mat-form-field",5),i.Ub(7,"mat-label"),i.Bc(8,"Login name"),i.Tb(),i.Pb(9,"input",6),i.Tb(),i.Tb(),i.Ub(10,"section",4),i.Ub(11,"mat-form-field",5),i.Ub(12,"mat-label"),i.Bc(13,"Password"),i.Tb(),i.Pb(14,"input",7),i.Tb(),i.Tb(),i.Tb(),i.Ub(15,"section",8),i.Ub(16,"div",4),i.Ub(17,"div",9),i.Ub(18,"button",10),i.cc("click",function(){return e.goToRegister()}),i.Bc(19,"Go Register"),i.Tb(),i.Ub(20,"button",11),i.Bc(21,"Login"),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb()),2&t&&(i.Cb(4),i.lc("formGroup",e.loginFg))},directives:[u.c,u.b,u.d,b.a,u.a,a.q,a.m,a.g,g.c,g.g,p.b,a.c,a.l,a.f,f.a],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),t})();class m{isErrorState(t,e){return!!(t&&t.invalid&&(t.dirty||t.touched||e&&e.submitted))}}class h{isErrorState(t,e){return!(!t||!t.invalid)}}var v=r("wd/R");function x(t){const e=t.value;if(!(e&&""!==(""+e).trim()&&(e+"").trim().length>3))return{fieldTooShort:!0}}function w(t){if(!t.value)return{required:!0};const e=t.value,r=v().subtract(18,"years");return e.valueOf()>r.valueOf()?{invalidBirthday:!0}:void 0}function y(t){if(!t.value)return{valueIsNotTrue:!0}}var T=r("XNiG"),U=r("1G5W"),C=r("IYfF"),F=r("iadO"),B=r("bSwM");function L(t,e){1&t&&(i.Ub(0,"mat-error"),i.Bc(1," User name is "),i.Ub(2,"strong"),i.Bc(3,"required"),i.Tb(),i.Tb())}function O(t,e){1&t&&(i.Ub(0,"mat-error"),i.Bc(1," Password is "),i.Ub(2,"strong"),i.Bc(3,"required"),i.Tb(),i.Tb())}function I(t,e){if(1&t&&(i.Ub(0,"mat-hint",20),i.Bc(1),i.Tb()),2&t){const t=i.gc(2);i.Cb(1),i.Dc(" ",t.passwordCtrlValue?t.passwordCtrlValue.split("").length:0,"/4 ")}}function P(t,e){1&t&&(i.Ub(0,"mat-error"),i.Bc(1," Birthday is "),i.Ub(2,"strong"),i.Bc(3,"required"),i.Tb(),i.Tb())}function M(t,e){if(1&t&&(i.Ub(0,"mat-error"),i.Bc(1," You have to be born at least before "),i.Ub(2,"strong"),i.Bc(3),i.Tb(),i.Tb()),2&t){const t=i.gc(2);i.Cb(3),i.Cc(t.minBirthday)}}function A(t,e){if(1&t&&(i.Ub(0,"section",7),i.Ub(1,"form",8),i.Ub(2,"mat-form-field",9),i.Pb(3,"input",10),i.Ac(4,L,4,0,"mat-error",11),i.Ub(5,"mat-hint",12),i.Bc(6,"Required"),i.Tb(),i.Tb(),i.Ub(7,"mat-form-field",9),i.Pb(8,"input",13),i.Ac(9,O,4,0,"mat-error",11),i.Ub(10,"mat-hint",12),i.Bc(11,"Password has to be least 4 characters long"),i.Tb(),i.Ac(12,I,2,1,"mat-hint",14),i.Tb(),i.Ub(13,"mat-form-field",15),i.Ub(14,"mat-label"),i.Bc(15,"Birthday"),i.Tb(),i.Pb(16,"input",16),i.Pb(17,"mat-datepicker-toggle",17),i.Pb(18,"mat-datepicker",null,18),i.Ub(20,"mat-hint",12),i.Bc(21,"You have to be at least 18 years old"),i.Tb(),i.Ac(22,P,4,0,"mat-error",11),i.Ac(23,M,4,1,"mat-error",11),i.Tb(),i.Ub(24,"mat-checkbox",19),i.Bc(25," Agree to Terms and Conditions "),i.Tb(),i.Tb(),i.Tb()),2&t){const t=i.qc(19),e=i.gc();let r=null,n=null,a=null,s=null,o=null;i.Cb(1),i.lc("formGroup",e.signupFg),i.Cb(2),i.lc("errorStateMatcher",e.matcher),i.Cb(1),i.lc("ngIf",null==(r=e.signupFg.get("name"))?null:r.hasError("required")),i.Cb(4),i.lc("errorStateMatcher",e.matcher),i.Cb(1),i.lc("ngIf",null==(n=e.signupFg.get("password"))?null:n.hasError("required")),i.Cb(3),i.lc("ngIf",null==(a=e.signupFg.get("password"))?null:a.hasError("fieldTooShort")),i.Cb(4),i.lc("matDatepicker",t)("max",e.maxDate)("errorStateMatcher",e.matcher),i.Cb(1),i.lc("for",t),i.Cb(5),i.lc("ngIf",null==(s=e.signupFg.get("birthday"))?null:s.hasError("required")),i.Cb(1),i.lc("ngIf",null==(o=e.signupFg.get("birthday"))?null:o.hasError("invalidBirthday"))}}const S=[{path:"",component:l,children:[{path:"",redirectTo:"signin",pathMatch:"full"},{path:"signin",component:d},{path:"signup",component:(()=>{class t{constructor(t,e,r,n){this.fb=t,this.router=e,this.route=r,this.as=n,this.compDest$=new T.a,this.matcher=new m,this.instaMatcher=new h,this.maxDate=v().subtract(1,"day"),this.signupFg=this.fb.group({name:c(null,!1,[a.p.required]),password:c(null,!1,[a.p.required,x]),birthday:c(null,!1,[w]),agree:c(!1,!1,[y])})}get passwordCtrlValue(){var t;return null===(t=this.signupFg.get("password"))||void 0===t?void 0:t.value}get minBirthday(){return v().subtract(18,"years").format("MM/DD/YYYY")}ngOnInit(){var t;null===(t=this.signupFg.get("password"))||void 0===t||t.valueChanges.pipe(Object(U.a)(this.compDest$)).subscribe(t=>{var e,r;let n=(null===(e=this.signupFg.get("password"))||void 0===e?void 0:e.value)?(null===(r=this.signupFg.get("password"))||void 0===r?void 0:r.value).split(""):[];n&&n.length>0&&" "===n[n.length-1]&&this.signupFg.get("password").setValue(n.slice(0,-1).join(""),{emitEvent:!1})}),this.signupFg.valueChanges.pipe(Object(U.a)(this.compDest$)).subscribe(t=>{})}onRegister(){if(this.signupFg.valid){console.log(this.getAllValues());const t=this.getAllValues();this.as.onSignUp(t.name,t.password)}}getAllValues(){return Object.assign(Object.assign({},this.signupFg.value),{birthday:this.signupFg.value.birthday?this.signupFg.value.birthday.valueOf():void 0})}onLogin(){this.router.navigate(["../","signin"],{relativeTo:this.route})}ngOnDestroy(){this.compDest$.next(),this.compDest$.complete()}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(a.d),i.Ob(o.b),i.Ob(o.a),i.Ob(C.a))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-auth-signup"]],decls:10,vars:2,consts:[["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","20px"],["fxLayout","row","ngClass.xs","full-w"],["role","alert","fxFlex.gt-xs","500px","fxFlex.xs","100%",1,"alert","alert-success"],["ngClass.gt-xs","signup-form","ngClass.xs","full-w",4,"ngIf"],["ngClass.gt-xs","actions","ngClass.xs","full-w","fxLayout","row","fxLayoutAlign","space-between"],["mat-flat-button","","color","accent",3,"click"],["mat-flat-button","","color","primary",3,"disabled","click"],["ngClass.gt-xs","signup-form","ngClass.xs","full-w"],["fxLayout","column","fxLayoutAlign","start","fxLayoutGap","20px",3,"formGroup"],["appearance","outline",1,""],["type","text","matInput","","placeholder","User name","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["align","start"],["type","password","matInput","","placeholder","Password","formControlName","password",3,"errorStateMatcher"],["align","end",4,"ngIf"],["appearance","outline"],["matInput","","formControlName","birthday",3,"matDatepicker","max","errorStateMatcher"],["matSuffix","",3,"for"],["dp",""],["labelPosition","after","formControlName","agree"],["align","end"]],template:function(t,e){1&t&&(i.Ub(0,"div",0),i.Ub(1,"div",1),i.Ub(2,"div",2),i.Bc(3," Sign up for a new account. "),i.Tb(),i.Tb(),i.Ac(4,A,26,12,"section",3),i.Ub(5,"section",4),i.Ub(6,"button",5),i.cc("click",function(){return e.onLogin()}),i.Bc(7,"Login instead"),i.Tb(),i.Ub(8,"button",6),i.cc("click",function(){return e.onRegister()}),i.Bc(9,"Register"),i.Tb(),i.Tb(),i.Tb()),2&t&&(i.Cb(4),i.lc("ngIf",e.signupFg),i.Cb(4),i.lc("disabled",e.signupFg.invalid))},directives:[u.c,u.b,u.d,b.a,u.a,n.k,f.a,a.q,a.m,a.g,g.c,p.b,a.c,a.l,a.f,g.f,g.g,F.b,F.d,g.h,F.a,B.a,g.b],styles:[".actions[_ngcontent-%COMP%], .signup-form[_ngcontent-%COMP%]{width:500px}.title[_ngcontent-%COMP%]{font-size:20px}"]}),t})()}]}];let k=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},imports:[[o.e.forChild(S)],o.e]}),t})();var q=r("YUcS"),D=r("1yaQ"),G=r("FKr1");let V=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},providers:[{provide:G.c,useClass:D.c,deps:[G.f]},{provide:G.e,useValue:D.a}],imports:[[k,s.a,a.h,a.o,n.c,D.b,q.a]]}),t})()}}]);