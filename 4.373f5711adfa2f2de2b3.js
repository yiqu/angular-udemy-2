(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{Yj9t:function(t,e,n){"use strict";n.r(e),n.d(e,"AuthModule",function(){return Y});var r=n("ofXK"),a=n("3Pt+"),s=n("UmVK"),i=n("tyNb"),o=n("fXoL");let l=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Ib({type:t,selectors:[["app-auth"]],decls:2,vars:0,consts:[[1,"container-fluid","my-5"]],template:function(t,e){1&t&&(o.Ub(0,"div",0),o.Pb(1,"router-outlet"),o.Tb())},directives:[i.f],styles:[""]}),t})();function c(t,e,n=[],r=[]){return new a.e({value:t,disabled:e},n,r)}var u=n("IYfF"),b=n("XiUz"),g=n("znSr"),p=n("kmnG"),d=n("qFsG"),f=n("bTqV");const m=function(){return["/","auth","signup"]};let h=(()=>{class t{constructor(t,e,n,r){this.fb=t,this.router=e,this.route=n,this.as=r,this.loginFg=this.fb.group({name:c("test2@test.com",!1),password:c("123456",!1)})}ngOnInit(){}onSignin(){if(this.loginFg.value){const t=this.loginFg.value.name,e=this.loginFg.value.password;t&&e&&this.as.onSignin(t,e)}}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(a.d),o.Ob(i.b),o.Ob(i.a),o.Ob(u.a))},t.\u0275cmp=o.Ib({type:t,selectors:[["app-login"]],decls:23,vars:3,consts:[["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","20px"],["fxLayout","row","ngClass.xs","full-w"],["role","alert","fxFlex.gt-xs","500px","fxFlex.xs","100%",1,"alert","alert-success"],[1,"mt-1","register"],[3,"routerLink"],["ngClass.xs","full-w",3,"formGroup"],["fxLayout","row"],["appearance","outline","fxFlex.gt-xs","500px"],["type","text","matInput","","placeholder","Login name","formControlName","name"],["type","password","matInput","","placeholder","Password","formControlName","password"],["ngClass.xs","full-w"],["ngClass.xs","full-w","fxFlex.gt-xs","500px","fxLayoutAlign","end"],["mat-flat-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(o.Ub(0,"div",0),o.Ub(1,"div",1),o.Ub(2,"div",2),o.Bc(3," Sign in using your Health Manager account. "),o.Ub(4,"div",3),o.Ub(5,"a",4),o.Bc(6,"I don't have an account."),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(7,"form",5),o.Ub(8,"section",6),o.Ub(9,"mat-form-field",7),o.Ub(10,"mat-label"),o.Bc(11,"Login name"),o.Tb(),o.Pb(12,"input",8),o.Tb(),o.Tb(),o.Ub(13,"section",6),o.Ub(14,"mat-form-field",7),o.Ub(15,"mat-label"),o.Bc(16,"Password"),o.Tb(),o.Pb(17,"input",9),o.Tb(),o.Tb(),o.Tb(),o.Ub(18,"section",10),o.Ub(19,"div",6),o.Ub(20,"div",11),o.Ub(21,"button",12),o.cc("click",function(){return e.onSignin()}),o.Bc(22,"Login"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&t&&(o.Cb(5),o.lc("routerLink",o.mc(2,m)),o.Cb(2),o.lc("formGroup",e.loginFg))},directives:[b.c,b.b,b.d,g.a,b.a,i.d,a.q,a.m,a.g,p.c,p.g,d.b,a.c,a.l,a.f,f.a],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.alert[_ngcontent-%COMP%]   .register[_ngcontent-%COMP%]{font-size:12px;font-weight:700}"]}),t})();class v{isErrorState(t,e){return!!(t&&t.invalid&&(t.dirty||t.touched||e&&e.submitted))}}class x{isErrorState(t,e){return!(!t||!t.invalid)}}var w=n("wd/R");function y(t){const e=t.value;if(!(e&&""!==(""+e).trim()&&(e+"").trim().length>3))return{fieldTooShort:!0}}function C(t){if(!t.value)return{required:!0};const e=t.value,n=w().subtract(18,"years");return e.valueOf()>n.valueOf()?{invalidBirthday:!0}:void 0}function T(t){if(!t.value)return{valueIsNotTrue:!0}}var U=n("XNiG"),F=n("1G5W"),B=n("iadO"),O=n("bSwM");function L(t,e){1&t&&(o.Ub(0,"mat-error"),o.Bc(1," User name is "),o.Ub(2,"strong"),o.Bc(3,"required"),o.Tb(),o.Tb())}function I(t,e){1&t&&(o.Ub(0,"mat-error"),o.Bc(1," Password is "),o.Ub(2,"strong"),o.Bc(3,"required"),o.Tb(),o.Tb())}function M(t,e){if(1&t&&(o.Ub(0,"mat-hint",21),o.Bc(1),o.Tb()),2&t){const t=o.gc(2);o.Cb(1),o.Dc(" ",t.passwordCtrlValue?t.passwordCtrlValue.split("").length:0,"/4 ")}}function P(t,e){1&t&&(o.Ub(0,"mat-error"),o.Bc(1," Birthday is "),o.Ub(2,"strong"),o.Bc(3,"required"),o.Tb(),o.Tb())}function S(t,e){if(1&t&&(o.Ub(0,"mat-error"),o.Bc(1," You have to be born at least before "),o.Ub(2,"strong"),o.Bc(3),o.Tb(),o.Tb()),2&t){const t=o.gc(2);o.Cb(3),o.Cc(t.minBirthday)}}function k(t,e){if(1&t&&(o.Ub(0,"section",8),o.Ub(1,"form",9),o.Ub(2,"mat-form-field",10),o.Pb(3,"input",11),o.Ac(4,L,4,0,"mat-error",12),o.Ub(5,"mat-hint",13),o.Bc(6,"Required"),o.Tb(),o.Tb(),o.Ub(7,"mat-form-field",10),o.Pb(8,"input",14),o.Ac(9,I,4,0,"mat-error",12),o.Ub(10,"mat-hint",13),o.Bc(11,"Password has to be least 4 characters long"),o.Tb(),o.Ac(12,M,2,1,"mat-hint",15),o.Tb(),o.Ub(13,"mat-form-field",16),o.Ub(14,"mat-label"),o.Bc(15,"Birthday"),o.Tb(),o.Pb(16,"input",17),o.Pb(17,"mat-datepicker-toggle",18),o.Pb(18,"mat-datepicker",null,19),o.Ub(20,"mat-hint",13),o.Bc(21,"You have to be at least 18 years old"),o.Tb(),o.Ac(22,P,4,0,"mat-error",12),o.Ac(23,S,4,1,"mat-error",12),o.Tb(),o.Ub(24,"mat-checkbox",20),o.Bc(25," Agree to Terms and Conditions "),o.Tb(),o.Tb(),o.Tb()),2&t){const t=o.qc(19),e=o.gc();let n=null,r=null,a=null,s=null,i=null;o.Cb(1),o.lc("formGroup",e.signupFg),o.Cb(2),o.lc("errorStateMatcher",e.matcher),o.Cb(1),o.lc("ngIf",null==(n=e.signupFg.get("name"))?null:n.hasError("required")),o.Cb(4),o.lc("errorStateMatcher",e.matcher),o.Cb(1),o.lc("ngIf",null==(r=e.signupFg.get("password"))?null:r.hasError("required")),o.Cb(3),o.lc("ngIf",null==(a=e.signupFg.get("password"))?null:a.hasError("fieldTooShort")),o.Cb(4),o.lc("matDatepicker",t)("max",e.maxDate)("errorStateMatcher",e.matcher),o.Cb(1),o.lc("for",t),o.Cb(5),o.lc("ngIf",null==(s=e.signupFg.get("birthday"))?null:s.hasError("required")),o.Cb(1),o.lc("ngIf",null==(i=e.signupFg.get("birthday"))?null:i.hasError("invalidBirthday"))}}const A=function(){return["/","auth","signin"]},q=[{path:"",component:l,children:[{path:"",redirectTo:"signin",pathMatch:"full"},{path:"signin",component:h},{path:"signup",component:(()=>{class t{constructor(t,e,n,r){this.fb=t,this.router=e,this.route=n,this.as=r,this.compDest$=new U.a,this.matcher=new v,this.instaMatcher=new x,this.maxDate=w().subtract(1,"day"),this.signupFg=this.fb.group({name:c(null,!1,[a.p.required]),password:c(null,!1,[a.p.required,y]),birthday:c(null,!1,[C]),agree:c(!1,!1,[T])})}get passwordCtrlValue(){var t;return null===(t=this.signupFg.get("password"))||void 0===t?void 0:t.value}get minBirthday(){return w().subtract(18,"years").format("MM/DD/YYYY")}ngOnInit(){var t;null===(t=this.signupFg.get("password"))||void 0===t||t.valueChanges.pipe(Object(F.a)(this.compDest$)).subscribe(t=>{var e,n;let r=(null===(e=this.signupFg.get("password"))||void 0===e?void 0:e.value)?(null===(n=this.signupFg.get("password"))||void 0===n?void 0:n.value).split(""):[];r&&r.length>0&&" "===r[r.length-1]&&this.signupFg.get("password").setValue(r.slice(0,-1).join(""),{emitEvent:!1})}),this.signupFg.valueChanges.pipe(Object(F.a)(this.compDest$)).subscribe(t=>{})}onRegister(){if(this.signupFg.valid){console.log(this.getAllValues());const t=this.getAllValues();this.as.onSignUp(t.name,t.password)}}getAllValues(){return Object.assign(Object.assign({},this.signupFg.value),{birthday:this.signupFg.value.birthday?this.signupFg.value.birthday.valueOf():void 0})}onLogin(){this.router.navigate(["../","signin"],{relativeTo:this.route})}ngOnDestroy(){this.compDest$.next(),this.compDest$.complete()}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(a.d),o.Ob(i.b),o.Ob(i.a),o.Ob(u.a))},t.\u0275cmp=o.Ib({type:t,selectors:[["app-auth-signup"]],decls:11,vars:4,consts:[["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","20px"],["fxLayout","row","ngClass.xs","full-w"],["role","alert","fxFlex.gt-xs","500px","fxFlex.xs","100%",1,"alert","alert-success"],[1,"mt-1","login"],[3,"routerLink"],["ngClass.gt-xs","signup-form","ngClass.xs","full-w",4,"ngIf"],["ngClass.gt-xs","actions","ngClass.xs","full-w","fxLayout","row","fxLayoutAlign","end"],["mat-flat-button","","color","primary",3,"disabled","click"],["ngClass.gt-xs","signup-form","ngClass.xs","full-w"],["fxLayout","column","fxLayoutAlign","start","fxLayoutGap","20px",3,"formGroup"],["appearance","outline",1,""],["type","text","matInput","","placeholder","User name","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["align","start"],["type","password","matInput","","placeholder","Password","formControlName","password",3,"errorStateMatcher"],["align","end",4,"ngIf"],["appearance","outline"],["matInput","","formControlName","birthday",3,"matDatepicker","max","errorStateMatcher"],["matSuffix","",3,"for"],["dp",""],["labelPosition","after","formControlName","agree"],["align","end"]],template:function(t,e){1&t&&(o.Ub(0,"div",0),o.Ub(1,"div",1),o.Ub(2,"div",2),o.Bc(3," Sign up for a new account. "),o.Ub(4,"div",3),o.Ub(5,"a",4),o.Bc(6,"Already have an account?"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ac(7,k,26,12,"section",5),o.Ub(8,"section",6),o.Ub(9,"button",7),o.cc("click",function(){return e.onRegister()}),o.Bc(10,"Register"),o.Tb(),o.Tb(),o.Tb()),2&t&&(o.Cb(5),o.lc("routerLink",o.mc(3,A)),o.Cb(2),o.lc("ngIf",e.signupFg),o.Cb(2),o.lc("disabled",e.signupFg.invalid))},directives:[b.c,b.b,b.d,g.a,b.a,i.d,r.k,f.a,a.q,a.m,a.g,p.c,d.b,a.c,a.l,a.f,p.f,p.g,B.b,B.d,p.h,B.a,O.a,p.b],styles:[".actions[_ngcontent-%COMP%], .signup-form[_ngcontent-%COMP%]{width:500px}.title[_ngcontent-%COMP%]{font-size:20px}.alert[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{font-size:12px;font-weight:700}"]}),t})()}]}];let D=(()=>{class t{}return t.\u0275mod=o.Mb({type:t}),t.\u0275inj=o.Lb({factory:function(e){return new(e||t)},imports:[[i.e.forChild(q)],i.e]}),t})();var G=n("YUcS"),V=n("1yaQ"),N=n("FKr1");let Y=(()=>{class t{}return t.\u0275mod=o.Mb({type:t}),t.\u0275inj=o.Lb({factory:function(e){return new(e||t)},providers:[{provide:N.c,useClass:V.c,deps:[N.f]},{provide:N.e,useValue:V.a}],imports:[[D,s.a,a.h,a.o,r.c,V.b,G.a]]}),t})()}}]);