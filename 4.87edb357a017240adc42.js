(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{jkDv:function(t,e,n){"use strict";n.r(e),n.d(e,"AdminModule",function(){return fe});var c=n("ofXK"),i=n("3Pt+"),s=n("9jGm"),a=n("l7P3"),o=n("UmVK"),r=n("37S3"),b=n("fXoL");let l=(()=>{class t{}return t.\u0275mod=b.Mb({type:t}),t.\u0275inj=b.Lb({factory:function(e){return new(e||t)},providers:[],imports:[[o.a,c.c,i.l,i.s,r.a]]}),t})();var m=n("tyNb"),d=n("pLZG"),u=n("IzEk"),p=n("0IaG"),g=n("ooqH"),f=n("XiUz"),h=n("kmnG"),O=n("qFsG"),x=n("d3UM"),C=n("1jcm"),T=n("bTqV"),j=n("FKr1"),y=n("Q7j5");function U(t,e){1&t&&(b.Ub(0,"mat-error"),b.Dc(1," Name is required. "),b.Tb())}function v(t,e){if(1&t&&(b.Ub(0,"mat-option",14),b.Dc(1),b.Tb()),2&t){const t=e.$implicit;b.mc("value",t),b.Cb(1),b.Fc(" ",t," ")}}function w(t,e){if(1&t&&(b.Ub(0,"mat-option",14),b.Dc(1),b.Tb()),2&t){const t=e.$implicit;b.mc("value",t),b.Cb(1),b.Fc(" ",t," ")}}function S(t,e){if(1&t&&(b.Ub(0,"mat-form-field",3),b.Ub(1,"mat-label"),b.Dc(2,"Time Per Set (in seconds)"),b.Tb(),b.Ub(3,"mat-select",6),b.Bc(4,w,2,2,"mat-option",7),b.Tb(),b.Tb()),2&t){const t=b.gc();b.Cb(3),b.mc("formControlName","countPerSet"),b.Cb(1),b.mc("ngForOf",t.timeOptions)}}function k(t,e){if(1&t&&(b.Ub(0,"mat-option",14),b.Dc(1),b.Tb()),2&t){const t=e.$implicit;b.mc("value",t),b.Cb(1),b.Fc(" ",t," ")}}function D(t,e){if(1&t&&(b.Ub(0,"mat-form-field",3),b.Ub(1,"mat-label"),b.Dc(2,"Reps Per Set"),b.Tb(),b.Ub(3,"mat-select",6),b.Bc(4,k,2,2,"mat-option",7),b.Tb(),b.Tb()),2&t){const t=b.gc();b.Cb(3),b.mc("formControlName","countPerSet"),b.Cb(1),b.mc("ngForOf",t.timeOptions)}}let F=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this.data=e,this.fb=n,this.exerFg=new i.i({}),this.setOptions=[3,5,7,10],this.timeOptions=[10,20,30,40,50,60],this.exerFg=this.fb.group({name:Object(g.a)(this.data.name,!1,[i.t.required]),sets:Object(g.a)(this.data.sets,!1),countPerSet:Object(g.a)(this.data.countPerSet,!1),setUnitTypeIsTime:Object(g.a)(this.data.setUnitTypeIsTime,!1)})}ngOnInit(){}onNoClick(){this.dialogRef.close(!1)}onYesClick(){this.dialogRef.close(Object.assign(Object.assign({},this.exerFg.value),{id:this.data.id}))}}return t.\u0275fac=function(e){return new(e||t)(b.Ob(p.f),b.Ob(p.a),b.Ob(i.e))},t.\u0275cmp=b.Ib({type:t,selectors:[["app-shared-dialog-exer"]],decls:27,vars:13,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","10px",3,"formGroup"],[1,""],["type","text","matInput","","placeholder","Exercises name",3,"formControlName"],[4,"ngIf"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],["color","primary",1,"",3,"formControlName"],[3,"ngSwitch"],["class","",4,"ngSwitchCase"],["mat-dialog-actions",""],["mat-flat-button","","cdkFocusInitial","","color","accent",3,"click"],["mat-flat-button","","color","primary",3,"disabled","click"],[3,"value"]],template:function(t,e){1&t&&(b.Ub(0,"h1",0),b.Dc(1),b.hc(2,"capitalizeFirstLetter"),b.Tb(),b.Pb(3,"hr"),b.Ub(4,"div",1),b.Ub(5,"div"),b.Ub(6,"div",2),b.Ub(7,"mat-form-field",3),b.Ub(8,"mat-label"),b.Dc(9,"Exercises Name"),b.Tb(),b.Pb(10,"input",4),b.Bc(11,U,2,0,"mat-error",5),b.Tb(),b.Ub(12,"mat-form-field",3),b.Ub(13,"mat-label"),b.Dc(14,"Total Sets"),b.Tb(),b.Ub(15,"mat-select",6),b.Bc(16,v,2,2,"mat-option",7),b.Tb(),b.Tb(),b.Ub(17,"mat-slide-toggle",8),b.Dc(18,"Use time"),b.Tb(),b.Sb(19,9),b.Bc(20,S,5,2,"mat-form-field",10),b.Bc(21,D,5,2,"mat-form-field",10),b.Rb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(22,"div",11),b.Ub(23,"button",12),b.cc("click",function(){return e.onNoClick()}),b.Dc(24,"Cancel"),b.Tb(),b.Ub(25,"button",13),b.cc("click",function(){return e.onYesClick()}),b.Dc(26,"Save"),b.Tb(),b.Tb()),2&t&&(b.Cb(1),b.Fc("Edit ",b.ic(2,11,e.data.name),""),b.Cb(5),b.mc("formGroup",e.exerFg),b.Cb(4),b.mc("formControlName","name"),b.Cb(1),b.mc("ngIf",e.exerFg.controls.name.errors),b.Cb(4),b.mc("formControlName","sets"),b.Cb(1),b.mc("ngForOf",e.setOptions),b.Cb(1),b.mc("formControlName","setUnitTypeIsTime"),b.Cb(2),b.mc("ngSwitch",e.exerFg.controls.setUnitTypeIsTime.value),b.Cb(1),b.mc("ngSwitchCase",!0),b.Cb(1),b.mc("ngSwitchCase",!1),b.Cb(4),b.mc("disabled",e.exerFg.invalid))},directives:[p.g,p.d,f.c,f.b,f.d,i.q,i.j,h.c,h.g,O.b,i.c,i.p,i.h,c.k,x.a,c.j,C.a,c.m,c.n,p.c,T.a,h.b,j.o],pipes:[y.a],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]   .exer[_ngcontent-%COMP%]{border:1px solid #eee;border-radius:35px;padding:20px}"]}),t})();const P=Object(a.n)("[Admin/UI] Admin page navigation",Object(a.s)()),I=Object(a.n)("[Admin/UI] Add a new exer select click",Object(a.s)()),A=Object(a.n)("[Admin/UI] Save exer button click",Object(a.s)()),B=Object(a.n)("[Admin/UI] Set form valid status",Object(a.s)()),M=Object(a.n)("[Admin/UI] Reset all options in new exer"),E=Object(a.n)("[Admin/API] Save all exer start",Object(a.s)()),N=Object(a.n)("[Admin/API] Save all exer success"),$=Object(a.n)("[Admin/API] Save all exer failed",Object(a.s)()),L=Object(a.n)("[Admin/API] Get all exer start"),_=Object(a.n)("[Admin/API] Get all exer success",Object(a.s)()),R=Object(a.n)("[Admin/API] Get all exer failed",Object(a.s)()),G=Object(a.n)("[Admin/API] Update exer start",Object(a.s)()),q=Object(a.n)("[Admin/API] Update exer success",Object(a.s)()),z=Object(a.n)("[Admin/API] Update exer failed",Object(a.s)()),V=Object(a.n)("[Admin/API] Delete exers start",Object(a.s)()),Y=Object(a.n)("[Admin/API] Delete exers success",Object(a.s)()),K=Object(a.n)("[Admin/API] Delete exers failed",Object(a.s)()),H=Object(a.o)("admin"),X=Object(a.q)(H,t=>t.currentActionPage),J=Object(a.q)(X,t=>{const e=[];return"new"===t?(e.push({btnName:"Add another",btnMenu:!0,btnMenuItems:["Time Based","Rep Based"]}),e.push({btnName:"Save"})):"edit"===t&&e.push({btnName:"Delete all"}),e}),W=Object(a.q)(H,t=>t.newExerType),Q=Object(a.q)(H,t=>t.saveNewExerBtnClickTimeStamp),Z=Object(a.q)(H,X,(t,e)=>"new"!==e||null==t.formValidState||t.formValidState),tt=Object(a.q)(H,t=>t.loading),et=Object(a.q)(H,t=>t.allExers);let nt=(()=>{class t{constructor(t,e){this.store=t,this.dialog=e,this.currentSelectedPage$=this.store.select(X),this.adminPanelButtons$=this.store.select(J),this.newlyAddedExerType$=this.store.select(W),this.onNewExerSaveClick$=this.store.select(Q),this.exerFormStatus$=this.store.select(Z).pipe(Object(d.a)(t=>null!=t)),this.isLoading$=this.store.select(tt),this.allExers$=this.store.select(et)}setCurrentPageState(t){this.store.dispatch(P({page:t}))}addNewExer(t){this.store.dispatch(I({exerUnitType:t}))}onNewExerSaveClick(){const t=(new Date).getTime();this.store.dispatch(A({timeStamp:t}))}onSetFormValidStatus(t){this.store.dispatch(B({status:t}))}resetNewExer(){this.store.dispatch(M())}onSaveExers(t){this.store.dispatch(E({exers:t}))}getAllExers(){this.store.dispatch(L())}updateExercise(t){this.store.dispatch(G({exer:t}))}deleteExercise(t){this.store.dispatch(V({exers:t}))}editExercise(t){return this.dialog.open(F,{minWidth:"30rem",data:t}).afterClosed().pipe(Object(u.a)(1))}}return t.\u0275fac=function(e){return new(e||t)(b.Yb(a.h),b.Yb(p.b))},t.\u0275prov=b.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var ct=n("STbY"),it=n("znSr"),st=n("NFeN"),at=n("mrSG"),ot=n("oC0T"),rt=n.n(ot);let bt=(()=>{class t{transform(t){let e="done";switch(null==t?void 0:t.trim().toLowerCase()){case"add another":e="add";break;case"save":e="save";break;case"delete all":e="delete"}return e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=b.Nb({name:"iconDisplay",type:t,pure:!0}),t})();function lt(t,e){1&t&&(b.Sb(0),b.Ub(1,"span",7),b.Dc(2,"Please fix the errors before saving*"),b.Tb(),b.Rb())}function mt(t,e){if(1&t){const t=b.Vb();b.Ub(0,"button",11),b.cc("click",function(){b.tc(t);const e=b.gc().$implicit;return b.gc(2).onPanelBtnClick(e)}),b.Ub(1,"span",12),b.Dc(2),b.Tb(),b.Ub(3,"mat-icon",13),b.Dc(4),b.hc(5,"iconDisplay"),b.Tb(),b.Tb()}if(2&t){const t=b.gc().$implicit;b.Cb(2),b.Ec(t.btnName),b.Cb(2),b.Ec(b.ic(5,2,t.btnName))}}const dt=function(t){return{menuItems:t}};function ut(t,e){if(1&t){const t=b.Vb();b.Ub(0,"button",14),b.cc("click",function(){b.tc(t);const e=b.gc().$implicit;return b.gc(2).onPanelBtnClick(e)}),b.Ub(1,"div",15),b.Ub(2,"div"),b.Dc(3),b.Tb(),b.Ub(4,"div",16),b.Ub(5,"mat-icon"),b.Dc(6,"keyboard_arrow_down"),b.Tb(),b.Tb(),b.Tb(),b.Ub(7,"mat-icon",13),b.Dc(8),b.hc(9,"iconDisplay"),b.Tb(),b.Tb()}if(2&t){const t=b.gc().$implicit;b.gc(2);const e=b.rc(13);b.mc("matMenuTriggerData",b.oc(6,dt,t.btnMenuItems))("matMenuTriggerFor",e),b.Cb(3),b.Ec(t.btnName),b.Cb(5),b.Ec(b.ic(9,4,t.btnName))}}function pt(t,e){if(1&t&&(b.Sb(0),b.Bc(1,mt,6,4,"button",9),b.Bc(2,ut,10,8,"button",10),b.Rb()),2&t){const t=e.$implicit;b.Cb(1),b.mc("ngIf",!t.btnMenu),b.Cb(1),b.mc("ngIf",t.btnMenu)}}function gt(t,e){if(1&t&&(b.Sb(0),b.Bc(1,pt,3,2,"ng-container",8),b.Rb()),2&t){const t=e.ngIf;b.Cb(1),b.mc("ngForOf",t)}}function ft(t,e){if(1&t){const t=b.Vb();b.Ub(0,"button",18),b.cc("click",function(){b.tc(t);const n=e.$implicit;return b.gc(2).onPanelMenuClick(n)}),b.Dc(1),b.Tb()}if(2&t){const t=e.$implicit;b.Cb(1),b.Ec(t)}}function ht(t,e){1&t&&b.Bc(0,ft,2,1,"button",17),2&t&&b.mc("ngForOf",e.menuItems)}const Ot=function(){return["/","my-trainings"]};let xt=(()=>{class t{constructor(t){this.as=t}ngOnInit(){}onPanelBtnClick(t){"Save"===t.btnName&&this.as.onNewExerSaveClick()}onPanelMenuClick(t){this.as.addNewExer(t)}}return t.\u0275fac=function(e){return new(e||t)(b.Ob(nt))},t.\u0275cmp=b.Ib({type:t,selectors:[["app-admin"]],decls:15,vars:8,consts:[["fxLayout","column","fxLayoutGap","10px",1,"container","pb-3","pb-5"],[1,"sticky-topp"],["fxLayout","row","fxLayoutAlign","space-between center",1,"title","mat-elevation-z0"],[3,"routerLink"],[4,"ngIf"],["menu","matMenu"],["matMenuContent",""],[1,"status-msg","ml-3"],[4,"ngFor","ngForOf"],["mat-button","","ngClass.lt-md","mat-icon-button","class","mr-3","ngClass.gt-sm","mat-flat-button","color","primary","type","button",3,"click",4,"ngIf"],["mat-button","","ngClass.lt-md","mat-icon-button","class","mr-3","ngClass.gt-sm","mat-flat-button","color","primary","type","button",3,"matMenuTriggerData","matMenuTriggerFor","click",4,"ngIf"],["mat-button","","ngClass.lt-md","mat-icon-button","ngClass.gt-sm","mat-flat-button","color","primary","type","button",1,"mr-3",3,"click"],["fxHide","","fxShow.gt-sm",""],["fxHide","","fxShow.lt-sm",""],["mat-button","","ngClass.lt-md","mat-icon-button","ngClass.gt-sm","mat-flat-button","color","primary","type","button",1,"mr-3",3,"matMenuTriggerData","matMenuTriggerFor","click"],["fxHide","","fxShow.gt-sm","","fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","5px"],["fxLayout","row","fxLayoutAlign","center center"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"]],template:function(t,e){1&t&&(b.Ub(0,"div",0),b.Ub(1,"div",1),b.Ub(2,"div",2),b.Ub(3,"div"),b.Ub(4,"a",3),b.Dc(5," Admin Panel "),b.Tb(),b.Bc(6,lt,3,0,"ng-container",4),b.hc(7,"async"),b.Tb(),b.Ub(8,"div"),b.Bc(9,gt,2,1,"ng-container",4),b.hc(10,"async"),b.Tb(),b.Tb(),b.Tb(),b.Pb(11,"router-outlet"),b.Tb(),b.Ub(12,"mat-menu",null,5),b.Bc(14,ht,1,1,"ng-template",6),b.Tb()),2&t&&(b.Cb(4),b.mc("routerLink",b.nc(7,Ot)),b.Cb(2),b.mc("ngIf",!b.ic(7,3,e.as.exerFormStatus$)),b.Cb(3),b.mc("ngIf",b.ic(10,5,e.as.adminPanelButtons$)))},directives:[f.c,f.d,f.b,m.e,c.k,m.g,ct.a,ct.b,c.j,T.a,it.a,it.b,st.a,ct.e,ct.c],pipes:[c.b,bt],styles:[".title[_ngcontent-%COMP%]{font-size:19px;font-weight:700}.sticky-topp[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding-left:0;height:4rem;border-bottom:1px solid #ccc}.sticky-topp[_ngcontent-%COMP%]   .status-msg[_ngcontent-%COMP%]{font-size:14px;color:#c45757}.loading-bar[_ngcontent-%COMP%]{margin:0;height:7px}"]}),t})(),Ct=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}ngOnInit(){}onNoClick(){this.dialogRef.close(!1)}onYesClick(){this.dialogRef.close(!0)}ngOnDestroy(){}}return t.\u0275fac=function(e){return new(e||t)(b.Ob(p.f),b.Ob(p.a))},t.\u0275cmp=b.Ib({type:t,selectors:[["app-shared-dialog"]],decls:10,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","","cdkFocusInitial","",3,"click"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(b.Ub(0,"h1",0),b.Dc(1,"Confirmation"),b.Tb(),b.Ub(2,"div",1),b.Ub(3,"p"),b.Dc(4),b.Tb(),b.Tb(),b.Ub(5,"div",2),b.Ub(6,"button",3),b.cc("click",function(){return e.onNoClick()}),b.Dc(7,"No"),b.Tb(),b.Ub(8,"button",4),b.cc("click",function(){return e.onYesClick()}),b.Dc(9,"Yes"),b.Tb(),b.Tb()),2&t&&(b.Cb(4),b.Fc("Are you sure you want to ",null==e.data?null:e.data.actionName,""))},directives:[p.g,p.d,p.c,T.a],styles:[""]}),t})(),Tt=(()=>{class t{constructor(t){this.dialog=t}openConfirmDialog(t){return this.dialog.open(Ct,{minWidth:"300px",data:{actionName:t+" this exercise?"}}).afterClosed().pipe(Object(u.a)(1))}}return t.\u0275fac=function(e){return new(e||t)(b.Yb(p.b))},t.\u0275prov=b.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var jt=n("Xa2L"),yt=n("M9IT"),Ut=n("Dh3D"),vt=n("+0xr"),wt=n("B6IJ");let St=(()=>{class t{constructor(t){this.dp=t}transform(t){let e=t;switch(t){case"name":e="Exercise Name";break;case"id":e="Exercise ID";break;case"sets":e="Sets";break;case"countPerSet":e="Rep / Time (Per Set)";break;case"setUnitTypeIsTime":e="Time Based";break;case"created":e="Created";break;case"lastUpdated":e="Updated";break;case"options":e="Actions"}return e}}return t.\u0275fac=function(e){return new(e||t)(b.Ob(wt.a))},t.\u0275pipe=b.Nb({name:"tableColumnDisplay",type:t,pure:!0}),Object(at.a)([rt()()],t.prototype,"transform",null),t})(),kt=(()=>{class t{constructor(t){this.dp=t}transform(t,e,n){let c=t;switch(e){case"countPerSet":c=n?c+" seconds":c+" reps";break;case"setUnitTypeIsTime":c=c?"Yes":"No";break;case"created":case"lastUpdated":c=""+this.dp.transform(c,"FROMNOW")}return c}}return t.\u0275fac=function(e){return new(e||t)(b.Ob(wt.a))},t.\u0275pipe=b.Nb({name:"tableDataDisplay",type:t,pure:!0}),t})();function Dt(t,e){if(1&t&&(b.Ub(0,"th",14),b.Dc(1),b.hc(2,"tableColumnDisplay"),b.Tb()),2&t){const t=b.gc().$implicit;b.Cb(1),b.Fc(" ",b.ic(2,1,t)," ")}}function Ft(t,e){if(1&t&&(b.Sb(0),b.Dc(1),b.hc(2,"tableDataDisplay"),b.Rb()),2&t){const t=b.gc().$implicit,e=b.gc().$implicit;b.Cb(1),b.Fc(" ",b.jc(2,1,t[e],e,t.setUnitTypeIsTime)," ")}}function Pt(t,e){if(1&t){const t=b.Vb();b.Ub(0,"button",18),b.cc("click",function(){b.tc(t);const n=e.$implicit,c=b.gc(2).$implicit;return b.gc(3).onActionBtnClick(n,c)}),b.Dc(1),b.hc(2,"capitalizeFirstLetter"),b.Tb()}if(2&t){const t=e.$implicit;b.mc("color","delete"===t?"warn":"primary"),b.Cb(1),b.Fc(" ",b.ic(2,2,t)," ")}}function It(t,e){if(1&t&&(b.Sb(0),b.Bc(1,Pt,3,4,"button",17),b.Rb()),2&t){const t=b.gc(4);b.Cb(1),b.mc("ngForOf",t.optionButtons)}}function At(t,e){if(1&t&&(b.Ub(0,"td",15),b.Bc(1,Ft,3,5,"ng-container",16),b.Bc(2,It,2,1,"ng-container",16),b.Tb()),2&t){const t=b.gc().$implicit;b.Cb(1),b.mc("ngIf","options"!==t),b.Cb(1),b.mc("ngIf","options"===t)}}function Bt(t,e){if(1&t&&(b.Sb(0),b.Sb(1,11),b.Bc(2,Dt,3,3,"th",12),b.Bc(3,At,3,2,"td",13),b.Rb(),b.Rb()),2&t){const t=e.$implicit;b.Cb(1),b.mc("matColumnDef",t)}}function Mt(t,e){1&t&&b.Pb(0,"tr",19)}const Et=function(t){return{"table-row-bg":t}};function Nt(t,e){1&t&&b.Pb(0,"tr",20),2&t&&b.mc("ngClass",b.oc(1,Et,e.even))}function $t(t,e){if(1&t&&(b.Ub(0,"tr",21),b.Ub(1,"td",22),b.Dc(2),b.Tb(),b.Tb()),2&t){b.gc();const t=b.rc(5);b.Cb(2),b.Fc('No data matching the filter "',t.value,'"')}}const Lt=function(t){return{border:t}},_t=function(){return[1,30,60,100]};function Rt(t,e){if(1&t){const t=b.Vb();b.Ub(0,"div",1),b.Ub(1,"mat-form-field"),b.Ub(2,"mat-label"),b.Dc(3,"Filter exercises ..."),b.Tb(),b.Ub(4,"input",2,3),b.cc("keyup",function(e){return b.tc(t),b.gc().applyFilter(e)}),b.Tb(),b.Tb(),b.Ub(6,"div",4),b.Ub(7,"table",5),b.Bc(8,Bt,4,1,"ng-container",6),b.Bc(9,Mt,1,0,"tr",7),b.Bc(10,Nt,1,3,"tr",8),b.Bc(11,$t,3,1,"tr",9),b.Tb(),b.Pb(12,"mat-paginator",10),b.Tb(),b.Tb()}if(2&t){const t=b.gc();b.mc("ngClass",b.oc(6,Lt,t.displayBorder)),b.Cb(7),b.mc("dataSource",t.dataSource),b.Cb(1),b.mc("ngForOf",t.cols),b.Cb(1),b.mc("matHeaderRowDef",t.cols),b.Cb(1),b.mc("matRowDefColumns",t.cols),b.Cb(2),b.mc("pageSizeOptions",b.nc(8,_t))}}let Gt=(()=>{class t{constructor(t){this.cs=t,this.columns=[],this.columnsData=[],this.optionButtons=[],this.actionBtnClick=new b.o,this.paginator=null,this.sort=null,this.cols=[],this.dataSource=new vt.l(this.columnsData)}ngOnInit(){}ngOnChanges(){this.cols=[...this.columns],this.hasOptions&&(this.cols=this.addOptionsColumn(this.cols)),this.dataSource=new vt.l(this.columnsData)}ngAfterViewInit(){this.dataSource&&(this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort)}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}addOptionsColumn(t){return[...t,"options"]}onActionBtnClick(t,e){this.actionBtnClick.emit({btnAction:t,data:e})}}return t.\u0275fac=function(e){return new(e||t)(b.Ob(Tt))},t.\u0275cmp=b.Ib({type:t,selectors:[["app-shared-table"]],viewQuery:function(t,e){if(1&t&&(b.Gc(yt.a,!0),b.Gc(Ut.a,!0)),2&t){let t;b.qc(t=b.dc())&&(e.paginator=t.first),b.qc(t=b.dc())&&(e.sort=t.first)}},inputs:{columns:"columns",columnsData:"columnsData",displayBorder:"displayBorder",hasOptions:"hasOptions",optionButtons:"optionButtons"},outputs:{actionBtnClick:"actionBtnClick"},features:[b.Ab],decls:1,vars:1,consts:[["class","table-parent",3,"ngClass",4,"ngIf"],[1,"table-parent",3,"ngClass"],["matInput","","placeholder","Start typing...",3,"keyup"],["input",""],[1,"mat-elevation-z0"],["mat-table","","matSort","",3,"dataSource"],[4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["pageSize","30","showFirstLastButtons","",1,"mt-3",3,"pageSizeOptions"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngIf"],["mat-stroked-button","","class","mr-2",3,"color","click",4,"ngFor","ngForOf"],["mat-stroked-button","",1,"mr-2",3,"color","click"],["mat-header-row",""],["mat-row","",3,"ngClass"],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&b.Bc(0,Rt,13,9,"div",0),2&t&&b.mc("ngIf",e.cols&&e.cols.length>0&&e.columnsData&&e.columnsData.length>0)},directives:[c.k,it.a,c.i,h.c,h.g,O.b,vt.k,Ut.a,c.j,vt.g,vt.j,vt.h,yt.a,vt.c,vt.e,vt.b,vt.d,Ut.b,vt.a,T.a,vt.f,vt.i],pipes:[St,kt,y.a],styles:["table[_ngcontent-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]{width:25rem}.table-parent[_ngcontent-%COMP%]{overflow:auto}.table-row-bg[_ngcontent-%COMP%]{background-color:hsla(0,0%,80%,.16862745098039217)}.border[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:15px;padding:10px}"]}),t})();function qt(t,e){1&t&&(b.Sb(0),b.Ub(1,"div",3),b.Pb(2,"mat-spinner",4),b.Tb(),b.Rb())}function zt(t,e){if(1&t){const t=b.Vb();b.Ub(0,"div",5),b.Ub(1,"div",6),b.Ub(2,"app-shared-table",7),b.cc("actionBtnClick",function(e){return b.tc(t),b.gc().onActionBtnClick(e)}),b.hc(3,"async"),b.Tb(),b.Tb(),b.Tb()}if(2&t){const t=b.gc();b.Cb(2),b.mc("columns",t.columns)("columnsData",b.ic(3,4,t.as.allExers$))("hasOptions",!0)("optionButtons",t.optionBtns)}}let Vt=(()=>{class t{constructor(t,e){this.as=t,this.cs=e,this.columns=["name","sets","countPerSet","setUnitTypeIsTime","created","lastUpdated"],this.optionBtns=["edit","delete"],this.as.setCurrentPageState("edit")}ngOnInit(){this.as.getAllExers()}onActionBtnClick(t){"edit"===t.btnAction?this.as.editExercise(t.data).subscribe(e=>{e&&t.data&&this.as.updateExercise(e)}):"delete"===t.btnAction&&this.cs.openConfirmDialog("delete").subscribe(e=>{e&&e&&t.data&&this.as.deleteExercise([t.data])})}}return t.\u0275fac=function(e){return new(e||t)(b.Ob(nt),b.Ob(Tt))},t.\u0275cmp=b.Ib({type:t,selectors:[["app-admin-edit"]],decls:5,vars:4,consts:[[1,""],[4,"ngIf","ngIfElse"],["tableData",""],["fxLayout","row","fxLayoutAlign","center center",1,"mt-3"],["mode","indeterminate"],[1,"row","mb-3"],[1,"col"],[3,"columns","columnsData","hasOptions","optionButtons","actionBtnClick"]],template:function(t,e){if(1&t&&(b.Ub(0,"div",0),b.Bc(1,qt,3,0,"ng-container",1),b.hc(2,"async"),b.Bc(3,zt,4,6,"ng-template",null,2,b.Cc),b.Tb()),2&t){const t=b.rc(4);b.Cb(1),b.mc("ngIf",b.ic(2,2,e.as.isLoading$))("ngIfElse",t)}},directives:[c.k,f.c,f.b,jt.b,Gt],pipes:[c.b],styles:[".table-parent[_ngcontent-%COMP%]{width:100%}",".title[_ngcontent-%COMP%]{font-size:19px;font-weight:700}.sticky-topp[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding-left:0;height:4rem;border-bottom:1px solid #ccc}.sticky-topp[_ngcontent-%COMP%]   .status-msg[_ngcontent-%COMP%]{font-size:14px;color:#c45757}.loading-bar[_ngcontent-%COMP%]{margin:0;height:7px}"]}),t})(),Yt=(()=>{class t{constructor(t,e,n,c){this.fb=t,this.router=e,this.route=n,this.as=c,this.as.setCurrentPageState(null)}ngOnInit(){}onActionClick(t){"add"===t?this.router.navigate(["../","new-exer"],{relativeTo:this.route}):"edit"===t&&this.router.navigate(["../","edit-exer"],{relativeTo:this.route})}}return t.\u0275fac=function(e){return new(e||t)(b.Ob(i.e),b.Ob(m.c),b.Ob(m.a),b.Ob(nt))},t.\u0275cmp=b.Ib({type:t,selectors:[["app-admin-landing"]],decls:25,vars:0,consts:[[1,"row","my-3","justify-content-center"],[1,"col-12","text-center"],[1,"text-muted"],[1,"exer-options"],[1,"row","justify-content-center"],[1,"col-12"],["fxLayout","row","fxLayoutAlign","center center"],["ngClass.lt-md","mb-3",1,"col-12","col-lg-2"],["fxLayout","column","fxLayoutAlign","center center"],["mat-fab","","color","primary",1,"mat-elevation-z0",3,"click"],[1,"mt-2"],[1,"col-12","col-lg-2"],["mat-fab","","color","accent",1,"mat-elevation-z0",3,"click"]],template:function(t,e){1&t&&(b.Ub(0,"div",0),b.Ub(1,"h3",1),b.Dc(2,"Admin panel"),b.Tb(),b.Ub(3,"p",2),b.Dc(4," Add and modify exercises. "),b.Tb(),b.Tb(),b.Ub(5,"div",3),b.Ub(6,"div",4),b.Ub(7,"div",5),b.Ub(8,"p",6),b.Dc(9," You can add, edit or delete exercises. "),b.Tb(),b.Tb(),b.Tb(),b.Ub(10,"div",4),b.Ub(11,"div",7),b.Ub(12,"div",8),b.Ub(13,"button",9),b.cc("click",function(){return e.onActionClick("add")}),b.Ub(14,"mat-icon"),b.Dc(15,"add"),b.Tb(),b.Tb(),b.Ub(16,"div",10),b.Dc(17," New Exercise "),b.Tb(),b.Tb(),b.Tb(),b.Ub(18,"div",11),b.Ub(19,"div",8),b.Ub(20,"button",12),b.cc("click",function(){return e.onActionClick("edit")}),b.Ub(21,"mat-icon"),b.Dc(22,"edit"),b.Tb(),b.Tb(),b.Ub(23,"div",10),b.Dc(24," Edit Exercises "),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb())},directives:[f.c,f.b,it.a,T.a,st.a],styles:[".exer-options[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:11px;padding:30px}"]}),t})();var Kt=n("XNiG"),Ht=n("1G5W");function Xt(t,e){1&t&&(b.Ub(0,"mat-error"),b.Dc(1," Name is required. "),b.Tb())}function Jt(t,e){if(1&t&&(b.Ub(0,"mat-option",16),b.Dc(1),b.Tb()),2&t){const t=e.$implicit;b.mc("value",t),b.Cb(1),b.Fc(" ",t," ")}}function Wt(t,e){if(1&t&&(b.Ub(0,"mat-option",16),b.Dc(1),b.Tb()),2&t){const t=e.$implicit;b.mc("value",t),b.Cb(1),b.Fc(" ",t," ")}}function Qt(t,e){if(1&t&&(b.Ub(0,"mat-form-field",9),b.Ub(1,"mat-label"),b.Dc(2,"Time Per Set (in seconds)"),b.Tb(),b.Ub(3,"mat-select",11),b.Bc(4,Wt,2,2,"mat-option",12),b.Tb(),b.Tb()),2&t){const t=b.gc(3);b.Cb(3),b.mc("formControlName","countPerSet"),b.Cb(1),b.mc("ngForOf",t.timeOptions)}}function Zt(t,e){if(1&t&&(b.Ub(0,"mat-option",16),b.Dc(1),b.Tb()),2&t){const t=e.$implicit;b.mc("value",t),b.Cb(1),b.Fc(" ",t," ")}}function te(t,e){if(1&t&&(b.Ub(0,"mat-form-field",9),b.Ub(1,"mat-label"),b.Dc(2,"Reps Per Set"),b.Tb(),b.Ub(3,"mat-select",11),b.Bc(4,Zt,2,2,"mat-option",12),b.Tb(),b.Tb()),2&t){const t=b.gc(3);b.Cb(3),b.mc("formControlName","countPerSet"),b.Cb(1),b.mc("ngForOf",t.timeOptions)}}function ee(t,e){if(1&t&&(b.Ub(0,"div",6),b.Ub(1,"div",7),b.Dc(2),b.Tb(),b.Ub(3,"div",8),b.Ub(4,"mat-form-field",9),b.Ub(5,"mat-label"),b.Dc(6,"Exercises Name"),b.Tb(),b.Pb(7,"input",10),b.Bc(8,Xt,2,0,"mat-error",2),b.Tb(),b.Ub(9,"mat-form-field",9),b.Ub(10,"mat-label"),b.Dc(11,"Total Sets"),b.Tb(),b.Ub(12,"mat-select",11),b.Bc(13,Jt,2,2,"mat-option",12),b.Tb(),b.Tb(),b.Ub(14,"mat-slide-toggle",13),b.Dc(15,"Use time"),b.Tb(),b.Sb(16,14),b.Bc(17,Qt,5,2,"mat-form-field",15),b.Bc(18,te,5,2,"mat-form-field",15),b.Rb(),b.Tb(),b.Tb()),2&t){const t=e.index,n=b.gc(2);b.Cb(2),b.Fc(" Exercise #",t+1," "),b.Cb(1),b.mc("formGroupName",t),b.Cb(4),b.mc("formControlName","name"),b.Cb(1),b.mc("ngIf",n.exercisesFaAny.controls[t].controls.name.errors&&n.exercisesFaAny.controls[t].controls.name.errors.required),b.Cb(4),b.mc("formControlName","sets"),b.Cb(1),b.mc("ngForOf",n.setOptions),b.Cb(1),b.mc("formControlName","setUnitTypeIsTime"),b.Cb(2),b.mc("ngSwitch",n.exercisesFaAny.controls[t].controls.setUnitTypeIsTime.value),b.Cb(1),b.mc("ngSwitchCase",!0),b.Cb(1),b.mc("ngSwitchCase",!1)}}const ne=function(){return{width:"100%"}};function ce(t,e){if(1&t){const t=b.Vb();b.Sb(0),b.Ub(1,"form",3),b.cc("ngSubmit",function(){return b.tc(t),b.gc().onFormSubmit()}),b.Ub(2,"div",4),b.Bc(3,ee,19,10,"div",5),b.Tb(),b.Tb(),b.Rb()}if(2&t){const t=b.gc();b.Cb(1),b.mc("formGroup",t.mainFg)("ngStyle.lt-md",b.nc(3,ne)),b.Cb(2),b.mc("ngForOf",t.exercisesFa.controls)}}const ie=[{path:"",component:xt,children:[{path:"",redirectTo:"landing",pathMatch:"full"},{path:"landing",component:Yt},{path:"new-exer",component:(()=>{class t{constructor(t,e){this.fb=t,this.as=e,this.setOptions=[3,5,7,10],this.timeOptions=[10,20,30,40,50,60],this.compDest$=new Kt.a,this.mainFg=this.createMainFg(),this.as.setCurrentPageState("new")}get exercisesFa(){return this.mainFg.get("exercises")}get exercisesFaAny(){return this.mainFg.get("exercises")}ngOnInit(){this.mainFg.valueChanges.pipe(Object(Ht.a)(this.compDest$)).subscribe(t=>{}),this.as.newlyAddedExerType$.pipe(Object(Ht.a)(this.compDest$)).subscribe(t=>{t&&t.name&&this.exercisesFa.push(this.createExerciseFg(t.name))}),this.as.onNewExerSaveClick$.pipe(Object(d.a)(t=>!!t),Object(Ht.a)(this.compDest$)).subscribe(t=>{this.onFormSubmit()})}createMainFg(){return this.fb.group({exercises:this.fb.array([this.createExerciseFg("Time Based")])})}createExerciseFg(t){const e="Time Based"===t;return this.fb.group({name:Object(g.a)(null,!1,[i.t.required]),sets:Object(g.a)(3,!1),countPerSet:Object(g.a)(30,!1),setUnitTypeIsTime:Object(g.a)(e,!1)})}onAddAnother(){this.exercisesFa.push(this.createExerciseFg())}onFormSubmit(){this.checkFormValid(this.mainFg.valid),this.mainFg.valid&&this.as.onSaveExers(this.mainFg.value.exercises)}checkFormValid(t){this.as.onSetFormValidStatus(t)}ngOnDestroy(){this.as.resetNewExer(),this.compDest$.next(),this.compDest$.complete()}}return t.\u0275fac=function(e){return new(e||t)(b.Ob(i.e),b.Ob(nt))},t.\u0275cmp=b.Ib({type:t,selectors:[["app-admin-new"]],decls:4,vars:1,consts:[["fxLayout","column","fxLayoutAlign","center center"],["fxLayout","row","fxLayoutAlign","start center",1,"title","mb-3","full-w"],[4,"ngIf"],["fxLayoutGap","10px",3,"formGroup","ngStyle.lt-md","ngSubmit"],["formArrayName","exercises"],["class","exer mb-3",4,"ngFor","ngForOf"],[1,"exer","mb-3"],["ngClass.gt-xs","arr-count text-center"],["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","10px",3,"formGroupName"],[1,""],["type","text","matInput","","placeholder","Exercises name",3,"formControlName"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],["color","primary",1,"",3,"formControlName"],[3,"ngSwitch"],["class","",4,"ngSwitchCase"],[3,"value"]],template:function(t,e){1&t&&(b.Ub(0,"div",0),b.Ub(1,"div",1),b.Dc(2," Add New Exercises "),b.Tb(),b.Bc(3,ce,4,4,"ng-container",2),b.Tb()),2&t&&(b.Cb(3),b.mc("ngIf",e.mainFg))},directives:[f.c,f.b,c.k,i.u,i.q,f.d,i.j,it.c,i.d,c.j,it.a,i.k,h.c,h.g,O.b,i.c,i.p,i.h,x.a,C.a,c.m,c.n,h.b,j.o],styles:[".arr-count[_ngcontent-%COMP%]{width:35rem;background-color:#eee;border-radius:15px;padding:10px}mat-form-field[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]   .exer[_ngcontent-%COMP%]{border:1px solid #eee;border-radius:35px;padding:20px}",".title[_ngcontent-%COMP%]{font-size:19px;font-weight:700}.sticky-topp[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding-left:0;height:4rem;border-bottom:1px solid #ccc}.sticky-topp[_ngcontent-%COMP%]   .status-msg[_ngcontent-%COMP%]{font-size:14px;color:#c45757}.loading-bar[_ngcontent-%COMP%]{margin:0;height:7px}"]}),t})()},{path:"edit-exer",component:Vt}]}];let se=(()=>{class t{}return t.\u0275mod=b.Mb({type:t}),t.\u0275inj=b.Lb({factory:function(e){return new(e||t)},imports:[[m.f.forChild(ie)],m.f]}),t})();var ae=n("bOdf"),oe=n("eIep"),re=n("XqQ8"),be=n("lJxs"),le=n("Kojo"),me=n("F0cu"),de=n("nm5K"),ue=n("mAmA");const pe=[(()=>{class t{constructor(t,e,n){this.actions$=t,this.as=e,this.sbs=n,this.saveExercises$=Object(s.c)(()=>this.actions$.pipe(Object(s.d)(E),Object(ae.a)(t=>this.as.upsertExercises(t.exers).then(e=>(this.sbs.openSnackBar("Successfully saved "+t.exers.length+" exercises"),N()),t=>{this.sbs.openSnackBar("Error occured!",6e3);const e=le.a(t);return console.log(t),$({errMsg:e})})))),this.getAllExercises$=Object(s.c)(()=>this.actions$.pipe(Object(s.d)(L),Object(oe.a)(()=>this.as.getExercises().then(t=>{const e=this.as.convertCollectionDocData(t);return _({exers:e})},t=>{this.sbs.openSnackBar("Error occured!",6e3);const e=le.a(t);return R({errMsg:e})})))),this.updateSingleExer$=Object(s.c)(()=>this.actions$.pipe(Object(s.d)(G),Object(re.a)(t=>{const e=t.exer;return this.as.updateExercise(e).then(t=>(this.sbs.openSnackBar("Successfully updated "+e.name+"!"),q({exer:e})),t=>{this.sbs.openSnackBar("Error occured!",6e3);const e=le.a(t);return console.log(t),z({errMsg:e})})}))),this.reloadExercise$=Object(s.c)(()=>this.actions$.pipe(Object(s.d)(q,Y),Object(be.a)(()=>L()))),this.navigateAfterCreatingNewExer$=Object(s.c)(()=>this.actions$.pipe(Object(s.d)(N),Object(be.a)(()=>{this.as.navigatePath(["/","my-trainings"])})),{dispatch:!1}),this.reloadAllCoreExercises$=Object(s.c)(()=>this.actions$.pipe(Object(s.d)(q,Y,N),Object(oe.a)(()=>[me.b()]))),this.deleteExercise$=Object(s.c)(()=>this.actions$.pipe(Object(s.d)(V),Object(re.a)(t=>this.as.deleteExercises(t.exers).then(e=>(this.sbs.openSnackBar("Successfully deleted "+t.exers.length+" exercises !"),Y({exers:t.exers})),t=>{this.sbs.openSnackBar("Error occured!",6e3);const e=le.a(t);return console.log(t),K({errMsg:e})}))))}}return t.\u0275fac=function(e){return new(e||t)(b.Yb(s.a),b.Yb(de.a),b.Yb(ue.a))},t.\u0275prov=b.Kb({token:t,factory:t.\u0275fac}),t})()],ge=Object(a.p)({currentActionPage:null,loading:!1,allExers:[]},Object(a.r)(P,(t,{page:e})=>Object.assign(Object.assign({},t),{currentActionPage:e})),Object(a.r)(I,(t,{exerUnitType:e})=>Object.assign(Object.assign({},t),{newExerType:{name:e}})),Object(a.r)(A,(t,{timeStamp:e})=>Object.assign(Object.assign({},t),{saveNewExerBtnClickTimeStamp:e})),Object(a.r)(B,(t,{status:e})=>Object.assign(Object.assign({},t),{formValidState:e})),Object(a.r)(M,t=>Object.assign(Object.assign({},t),{saveNewExerBtnClickTimeStamp:void 0,newExerType:void 0,formValidState:!0})),Object(a.r)(E,(t,{exers:e})=>Object.assign(Object.assign({},t),{exersBeingAdded:[...e],loading:!0})),Object(a.r)(N,t=>Object.assign(Object.assign({},t),{loading:!1,errMsg:void 0,error:!1})),Object(a.r)($,(t,{errMsg:e})=>Object.assign(Object.assign({},t),{loading:!1,errMsg:e,error:!0})),Object(a.r)(L,t=>Object.assign(Object.assign({},t),{loading:!0})),Object(a.r)(_,(t,{exers:e})=>Object.assign(Object.assign({},t),{loading:!1,errMsg:void 0,error:!1,allExers:e})),Object(a.r)(R,(t,{errMsg:e})=>Object.assign(Object.assign({},t),{loading:!1,errMsg:e,error:!0})),Object(a.r)(G,(t,{exer:e})=>Object.assign(Object.assign({},t),{exerBeingUpdated:e})),Object(a.r)(q,(t,{exer:e})=>Object.assign(Object.assign({},t),{errMsg:void 0,error:!1,exerBeingUpdated:e})),Object(a.r)(z,(t,{errMsg:e})=>Object.assign(Object.assign({},t),{errMsg:e,error:!0})),Object(a.r)(V,(t,{})=>Object.assign({},t)),Object(a.r)(Y,(t,{})=>Object.assign(Object.assign({},t),{errMsg:void 0,error:!1})),Object(a.r)(K,(t,{errMsg:e})=>Object.assign(Object.assign({},t),{errMsg:e,error:!0})));let fe=(()=>{class t{}return t.\u0275mod=b.Mb({type:t}),t.\u0275inj=b.Lb({factory:function(e){return new(e||t)},providers:[],imports:[[se,o.a,c.c,i.s,i.l,a.j.forFeature("admin",ge),s.b.forFeature(pe),r.a,l]]}),t})()}}]);