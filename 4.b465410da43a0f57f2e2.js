(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{Yj9t:function(t,e,r){"use strict";r.r(e),r.d(e,"AuthModule",function(){return P});var a=r("ofXK"),n=r("3Pt+"),o=r("UmVK"),s=r("tyNb"),i=r("fXoL");let c=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Hb({type:t,selectors:[["app-auth"]],decls:2,vars:0,consts:[[1,"container-fluid","my-5"]],template:function(t,e){1&t&&(i.Tb(0,"div",0),i.Ob(1,"router-outlet"),i.Sb())},directives:[s.f],styles:[""]}),t})();function l(t,e,r=[],a=[]){return new n.e({value:t,disabled:e},r,a)}var u=r("XiUz"),b=r("znSr"),g=r("kmnG"),p=r("qFsG"),f=r("bTqV");let d=(()=>{class t{constructor(t,e,r){this.fb=t,this.router=e,this.route=r,this.loginFg=this.fb.group({name:l(null,!1),password:l(null,!1)})}ngOnInit(){}goToRegister(){this.router.navigate(["../","signup"],{relativeTo:this.route})}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(n.d),i.Nb(s.b),i.Nb(s.a))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-login"]],decls:22,vars:1,consts:[["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","20px"],["fxLayout","row","ngClass.xs","full-w"],["role","alert","fxFlex.gt-xs","500px","fxFlex.xs","100%",1,"alert","alert-danger"],["ngClass.xs","full-w",3,"formGroup"],["fxLayout","row"],["appearance","outline","fxFlex.gt-xs","500px"],["type","text","matInput","","placeholder","Login name","formControlName","name"],["type","password","matInput","","placeholder","Password","formControlName","password"],["ngClass.xs","full-w"],["ngClass.xs","full-w","fxFlex.gt-xs","500px","fxLayoutAlign","space-between"],["mat-flat-button","","color","accent",3,"click"],["mat-flat-button","","color","primary"]],template:function(t,e){1&t&&(i.Tb(0,"div",0),i.Tb(1,"div",1),i.Tb(2,"div",2),i.Ac(3," Error "),i.Sb(),i.Sb(),i.Tb(4,"form",3),i.Tb(5,"section",4),i.Tb(6,"mat-form-field",5),i.Tb(7,"mat-label"),i.Ac(8,"Login name"),i.Sb(),i.Ob(9,"input",6),i.Sb(),i.Sb(),i.Tb(10,"section",4),i.Tb(11,"mat-form-field",5),i.Tb(12,"mat-label"),i.Ac(13,"Password"),i.Sb(),i.Ob(14,"input",7),i.Sb(),i.Sb(),i.Sb(),i.Tb(15,"section",8),i.Tb(16,"div",4),i.Tb(17,"div",9),i.Tb(18,"button",10),i.bc("click",function(){return e.goToRegister()}),i.Ac(19,"Go Register"),i.Sb(),i.Tb(20,"button",11),i.Ac(21,"Login"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb()),2&t&&(i.Bb(4),i.kc("formGroup",e.loginFg))},directives:[u.c,u.b,u.d,b.a,u.a,n.q,n.m,n.g,g.c,g.g,p.b,n.c,n.l,n.f,f.a],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),t})();class m{isErrorState(t,e){return!!(t&&t.invalid&&(t.dirty||t.touched||e&&e.submitted))}}class h{isErrorState(t,e){return!(!t||!t.invalid)}}var x=r("wd/R");function v(t){const e=t.value;if(!(e&&""!==(""+e).trim()&&(e+"").trim().length>3))return{fieldTooShort:!0}}function S(t){if(!t.value)return{required:!0};const e=t.value,r=x().subtract(18,"years");return e.valueOf()>r.valueOf()?{invalidBirthday:!0}:void 0}function w(t){if(!t.value)return{valueIsNotTrue:!0}}var y=r("XNiG"),T=r("1G5W"),A=r("iadO"),C=r("bSwM");function F(t,e){1&t&&(i.Tb(0,"mat-error"),i.Ac(1," User name is "),i.Tb(2,"strong"),i.Ac(3,"required"),i.Sb(),i.Sb())}function k(t,e){1&t&&(i.Tb(0,"mat-error"),i.Ac(1," Password is "),i.Tb(2,"strong"),i.Ac(3,"required"),i.Sb(),i.Sb())}function L(t,e){if(1&t&&(i.Tb(0,"mat-hint",20),i.Ac(1),i.Sb()),2&t){const t=i.fc(2);i.Bb(1),i.Cc(" ",t.passwordCtrlValue?t.passwordCtrlValue.split("").length:0,"/4 ")}}function O(t,e){1&t&&(i.Tb(0,"mat-error"),i.Ac(1," Birthday is "),i.Tb(2,"strong"),i.Ac(3,"required"),i.Sb(),i.Sb())}function B(t,e){if(1&t&&(i.Tb(0,"mat-error"),i.Ac(1," You have to be born at least before "),i.Tb(2,"strong"),i.Ac(3),i.Sb(),i.Sb()),2&t){const t=i.fc(2);i.Bb(3),i.Bc(t.minBirthday)}}function I(t,e){if(1&t&&(i.Tb(0,"section",7),i.Tb(1,"form",8),i.Tb(2,"mat-form-field",9),i.Ob(3,"input",10),i.zc(4,F,4,0,"mat-error",11),i.Tb(5,"mat-hint",12),i.Ac(6,"Required"),i.Sb(),i.Sb(),i.Tb(7,"mat-form-field",9),i.Ob(8,"input",13),i.zc(9,k,4,0,"mat-error",11),i.Tb(10,"mat-hint",12),i.Ac(11,"Password has to be least 4 characters long"),i.Sb(),i.zc(12,L,2,1,"mat-hint",14),i.Sb(),i.Tb(13,"mat-form-field",15),i.Tb(14,"mat-label"),i.Ac(15,"Birthday"),i.Sb(),i.Ob(16,"input",16),i.Ob(17,"mat-datepicker-toggle",17),i.Ob(18,"mat-datepicker",null,18),i.Tb(20,"mat-hint",12),i.Ac(21,"You have to be at least 18 years old"),i.Sb(),i.zc(22,O,4,0,"mat-error",11),i.zc(23,B,4,1,"mat-error",11),i.Sb(),i.Tb(24,"mat-checkbox",19),i.Ac(25," Agree to Terms and Conditions "),i.Sb(),i.Sb(),i.Sb()),2&t){const t=i.pc(19),e=i.fc();i.Bb(1),i.kc("formGroup",e.signupFg),i.Bb(2),i.kc("errorStateMatcher",e.matcher),i.Bb(1),i.kc("ngIf",e.signupFg.get("name").hasError("required")),i.Bb(4),i.kc("errorStateMatcher",e.matcher),i.Bb(1),i.kc("ngIf",e.signupFg.get("password").hasError("required")),i.Bb(3),i.kc("ngIf",e.signupFg.get("password").hasError("fieldTooShort")),i.Bb(4),i.kc("matDatepicker",t)("max",e.maxDate)("errorStateMatcher",e.matcher),i.Bb(1),i.kc("for",t),i.Bb(5),i.kc("ngIf",e.signupFg.get("birthday").hasError("required")),i.Bb(1),i.kc("ngIf",e.signupFg.get("birthday").hasError("invalidBirthday"))}}const M=[{path:"",component:c,children:[{path:"",redirectTo:"signin",pathMatch:"full"},{path:"signin",component:d},{path:"signup",component:(()=>{class t{constructor(t,e,r){this.fb=t,this.router=e,this.route=r,this.compDest$=new y.a,this.matcher=new m,this.instaMatcher=new h,this.maxDate=x().subtract(1,"day"),this.signupFg=this.fb.group({name:l(null,!1,[n.p.required]),password:l(null,!1,[n.p.required,v]),birthday:l(null,!1,[S]),agree:l(!1,!1,[w])})}get passwordCtrlValue(){var t;return null===(t=this.signupFg.get("password"))||void 0===t?void 0:t.value}get minBirthday(){return x().subtract(18,"years").format("MM/DD/YYYY")}ngOnInit(){this.signupFg.get("password").valueChanges.pipe(Object(T.a)(this.compDest$)).subscribe(t=>{let e=this.signupFg.get("password").value?this.signupFg.get("password").value.split(""):[];e&&e.length>0&&" "===e[e.length-1]&&this.signupFg.get("password").setValue(e.slice(0,-1).join(""),{emitEvent:!1})}),this.signupFg.valueChanges.pipe(Object(T.a)(this.compDest$)).subscribe(t=>{console.log(this.getAllValues())})}onRegister(){this.signupFg.valid&&(console.log("submitting"),console.log(this.getAllValues()))}getAllValues(){return Object.assign(Object.assign({},this.signupFg.value),{birthday:this.signupFg.value.birthday?this.signupFg.value.birthday.valueOf():void 0})}onLogin(){this.router.navigate(["../","signin"],{relativeTo:this.route})}ngOnDestroy(){this.compDest$.next(),this.compDest$.complete()}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(n.d),i.Nb(s.b),i.Nb(s.a))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-auth-signup"]],decls:10,vars:2,consts:[["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","20px"],["fxLayout","row","ngClass.xs","full-w"],["role","alert","fxFlex.gt-xs","500px","fxFlex.xs","100%",1,"alert","alert-success"],["ngClass.gt-xs","signup-form","ngClass.xs","full-w",4,"ngIf"],["ngClass.gt-xs","actions","ngClass.xs","full-w","fxLayout","row","fxLayoutAlign","space-between"],["mat-flat-button","","color","accent",3,"click"],["mat-flat-button","","color","primary",3,"disabled","click"],["ngClass.gt-xs","signup-form","ngClass.xs","full-w"],["fxLayout","column","fxLayoutAlign","start","fxLayoutGap","20px",3,"formGroup"],["appearance","outline",1,""],["type","text","matInput","","placeholder","User name","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["align","start"],["type","password","matInput","","placeholder","Password","formControlName","password",3,"errorStateMatcher"],["align","end",4,"ngIf"],["appearance","outline"],["matInput","","formControlName","birthday",3,"matDatepicker","max","errorStateMatcher"],["matSuffix","",3,"for"],["dp",""],["labelPosition","after","formControlName","agree"],["align","end"]],template:function(t,e){1&t&&(i.Tb(0,"div",0),i.Tb(1,"div",1),i.Tb(2,"div",2),i.Ac(3," Sign up for a new account. "),i.Sb(),i.Sb(),i.zc(4,I,26,12,"section",3),i.Tb(5,"section",4),i.Tb(6,"button",5),i.bc("click",function(){return e.onLogin()}),i.Ac(7,"Login instead"),i.Sb(),i.Tb(8,"button",6),i.bc("click",function(){return e.onRegister()}),i.Ac(9,"Register"),i.Sb(),i.Sb(),i.Sb()),2&t&&(i.Bb(4),i.kc("ngIf",e.signupFg),i.Bb(4),i.kc("disabled",e.signupFg.invalid))},directives:[u.c,u.b,u.d,b.a,u.a,a.k,f.a,n.q,n.m,n.g,g.c,p.b,n.c,n.l,n.f,g.f,g.g,A.b,A.d,g.h,A.a,C.a,g.b],styles:[".actions[_ngcontent-%COMP%], .signup-form[_ngcontent-%COMP%]{width:500px}.title[_ngcontent-%COMP%]{font-size:20px}"]}),t})()}]}];let N=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},imports:[[s.e.forChild(M)],s.e]}),t})();var q=r("YUcS"),D=r("1yaQ"),G=r("FKr1");let P=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)},providers:[{provide:G.c,useClass:D.c,deps:[G.f]},{provide:G.e,useValue:D.a}],imports:[[N,o.a,n.h,n.o,a.c,D.b,q.a]]}),t})()}}]);